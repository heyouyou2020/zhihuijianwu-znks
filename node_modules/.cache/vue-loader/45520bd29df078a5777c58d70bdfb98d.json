{"remainingRequest":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\src\\views\\zhscjd\\scgly\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\src\\views\\zhscjd\\scgly\\index.vue","mtime":1602474269465},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Pagination from '@/components/Pagination/index'\nexport default {\n  components: { Pagination },\n  data() {\n    return {\n      display: 0,\n      listQuery: {\n        status: '1',\n        pageSize: 10,\n        currentPage: 1\n      },\n      tableKey: 0,\n      tableData: [],\n      listLoading: true,\n      total: 100,\n      dialogFormVisible: false,\n      show: false,\n      msg: '',\n      tsTotal: 0,\n      tsCurrent: 1,\n      tsData: [\n        { msg: '您委托的审查鉴定：XXX案件{汉东检刑诉受[2020]980000000000883号}，未接收！' },\n        { msg: '您委托的审查鉴定：XXX案件{汉东检刑诉受号}，未接收！' },\n        { msg: '您委托的审查鉴定：XXX案件{汉东检刑诉受980000000000883号}，未接收！' }\n      ],\n      czrzList: [],\n      pickerOptions0: {\n        disabledDate(time) {\n          return time.getTime() > Date.now()\n        }\n      }\n    }\n  },\n  created() {\n    this.msg = this.tsData[0].msg\n    this.tsTotal = this.tsData.length\n  },\n  mounted() {\n    this.getList()\n    this.show = true\n  },\n  methods: {\n    // 关闭提示\n    closeTs() {\n      this.show = false\n    },\n    // 上一条\n    backHandle() {\n      if (this.tsCurrent > 1) {\n        this.tsCurrent--\n        this.msg = this.tsData[this.tsCurrent - 1].msg\n      }\n    },\n    // 下一条\n    nextHandle() {\n      if (this.tsCurrent > 0 && this.tsCurrent < this.tsTotal) {\n        this.tsCurrent++\n        this.msg = this.tsData[this.tsCurrent - 1].msg\n      }\n    },\n    displayList(flat) {\n      this.display = flat\n      this.listQuery.currentPage = 1\n      this.getList(flat)\n    },\n    selectDate: function() {\n      const dateTime = this.listQuery.xsslrqDate\n      if (dateTime == null) {\n        this.listQuery.slksrq = ''\n        this.listQuery.sljsrq = ''\n      } else {\n        const startTime = this.moment(dateTime[0]).format('YYYY-MM-DD')\n        const endTime = this.moment(dateTime[1]).format('YYYY-MM-DD')\n        this.listQuery.slksrq = startTime\n        this.listQuery.sljsrq = endTime\n      }\n    },\n    onSearch: function() {\n      this.listQuery.currentPage = 1\n      this.getList()\n    },\n    restOff: function(listQuery) {\n      this.$refs[listQuery].resetFields()\n      this.listQuery.slksrq = ''\n      this.listQuery.sljsrq = ''\n      this.getList()\n    },\n    changeCellStyle({ row, columnIndex }) {\n      if (columnIndex === 0) {\n        return 'color: #4084ef'\n      }\n    },\n    getList() {\n      this.listLoading = true// true\n      this.listQuery.wtzt = this.display\n      this.$api.scwtPageList(this.listQuery).then(response => {\n        if (response.code === 200) {\n          this.tableData = response.data.list\n          this.total = response.data.total\n          this.listLoading = false\n        } else {\n          this.$message({\n            message: response.message,\n            type: 'warning'\n          })\n        }\n      })\n    },\n    lookItem: function(item) {\n      this.$router.push({ path: '/scgly/scwtck', query: { xsInfoId: item.id }})\n    },\n    fl: function(item) {\n      this.$router.push({ path: '/scgly/fl', query: { xsInfoId: item.id }})\n    },\n    lcjk(item) {\n      this.$router.push({ path: '/scgly/lcjk', query: { xsInfoId: item.id }})\n    },\n    czrz(item) {\n      this.dialogFormVisible = true\n      const params = {\n        wtid: item.id\n      }\n      this.$api.getCzrzByWtid(params).then(response => {\n        if (response.code === 200) {\n          this.czrzList = response.data\n        } else {\n          this.$message.error(response.message)\n        }\n      })\n    },\n    refresh() {\n      this.getList()\n    },\n    jumpAdd: function() {\n      this.$router.push('/wtysl/scjdtj')\n    }\n  }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/zhscjd/scgly","sourcesContent":["<template>\n  <div class=\"dashboard-container\">\n    <el-row>\n      <div class=\"btnPrimary mb20\">\n        <span><el-button type=\"primary\" :class=\"0==display?'active':''\" plain @click=\"displayList(0)\">待处理</el-button></span>\n        <span><el-button type=\"primary\" :class=\"1==display?'active':''\" plain @click=\"displayList(1)\">已处理</el-button></span>\n      </div>\n    </el-row>\n    <!--      头部搜索start-->\n    <div class=\"filter-container\">\n      <el-form ref=\"listQuery\" :model=\"listQuery\" :inline=\"true\">\n        <el-form-item label=\"部门受案号\" prop=\"bmsah\">\n          <el-input\n            v-model=\"listQuery.bmsah\"\n            placeholder=\"请输入部门受案号\"\n            class=\"filter-item\"\n            clearable\n            maxlength=\"30\"\n          />\n        </el-form-item>\n        <el-form-item label=\"案件名称\" prop=\"ajmc\">\n          <el-input\n            v-model=\"listQuery.ajmc\"\n            placeholder=\"请输入案件名称\"\n            class=\"filter-item\"\n            clearable\n            maxlength=\"30\"\n          />\n        </el-form-item>\n        <el-form-item label=\"委托人\" prop=\"wtr\">\n          <el-input\n            v-model=\"listQuery.wtr\"\n            placeholder=\"请输入委托人\"\n            class=\"filter-item\"\n            clearable\n            maxlength=\"30\"\n          />\n        </el-form-item>\n        <el-form-item label=\"委托日期\" prop=\"wtrq\">\n          <el-date-picker\n            v-model=\"listQuery.wtrq\"\n            type=\"daterange\"\n            range-separator=\"至\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            style=\"width: 280px\"\n            :picker-options=\"pickerOptions0\"\n            @change=\"selectDate\"\n          />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" plain @click=\"restOff('listQuery')\">重置</el-button>\n          <el-button type=\"primary\" @click=\"onSearch\">查询</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <!--      表格statrt-->\n    <el-table\n      :key=\"tableKey\"\n      v-loading=\"listLoading\"\n      stripe\n      :data=\"tableData\"\n      style=\"width: 100%\"\n      :cell-style=\"changeCellStyle\"\n      highlight-current-row\n    >\n      <el-table-column\n        prop=\"ajmc\"\n        label=\"案件名称\"\n        cell-class-name=\"colorB\"\n        :show-overflow-tooltip=\"true\"\n      />\n      <el-table-column\n        prop=\"bmsah\"\n        label=\"部门受案号\"\n      />\n      <el-table-column\n        prop=\"cbbm\"\n        label=\"承办部门\"\n        width=\"120\"\n      />\n      <el-table-column\n        prop=\"cbdw\"\n        label=\"承办单位\"\n        width=\"180\"\n      />\n      <el-table-column\n        prop=\"wtrname\"\n        label=\"委托人\"\n        width=\"150\"\n      />\n      <el-table-column\n        prop=\"wtrq\"\n        label=\"委托日期\"\n        width=\"150\"\n      />\n      <el-table-column\n        label=\"操作\"\n        width=\"200\"\n      >\n        <template slot-scope=\"scope\">\n          <div v-if=\"display==0\">\n            <el-button type=\"text\" size=\"small\" @click=\"lookItem(scope.row)\">查看</el-button>\n            <el-button type=\"text\" size=\"small\" @click=\"fl(scope.row)\">分流</el-button>\n          </div>\n          <div v-if=\"display==1\">\n            <el-button type=\"text\" size=\"small\" @click=\"czrz(scope.row)\">操作日志</el-button>\n            <el-button type=\"text\" size=\"small\" @click=\"lcjk(scope.row)\">流程监控</el-button>\n          </div>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"pageBox\">\n      <pagination\n        v-show=\"total > 0\"\n        :total=\"total\"\n        :page.sync=\"listQuery.currentPage\"\n        :limit.sync=\"listQuery.pageSize\"\n        @pagination=\"refresh\"\n      />\n    </div>\n    <!--    消息提醒-->\n    <transition name=\"bounce\">\n      <div v-if=\"show\" class=\"remind\">\n        <div class=\"remind-head flex-space-between\">\n          <span>审查鉴定委托未接收提醒预警</span>\n          <i class=\"el-icon-close\" @click=\"closeTs\" />\n        </div>\n        <div class=\"flex-center remind-con\">\n          <img src=\"@/icons/img/tishi.png\" alt=\"\">\n          <p class=\"ml15\">{{ msg }}</p>\n        </div>\n        <div class=\"remind-foot\">\n          <p class=\"num\">第<span class=\"yellow\">{{ tsCurrent }} / {{ tsTotal }}</span>条</p>\n          <p class=\"btn\">\n            <el-button :disabled=\"tsCurrent == 1\" @click=\"backHandle\">上一条</el-button>\n            <el-button :disabled=\"tsCurrent == tsTotal\" type=\"primary\" @click=\"nextHandle\">下一条</el-button>\n          </p>\n        </div>\n      </div>\n    </transition>\n    <!--      操控日志-->\n    <el-dialog title=\"操控日志\" :visible.sync=\"dialogFormVisible\" class=\"dialog-render\" width=\"45%\">\n      <div class=\"showLineTime p30\">\n        <ul v-if=\"czrzList.length>0\" class=\"timeLine\">\n          <span style=\"margin-left: -2px\"><img src=\"@/icons/img/address.png\" height=\"16\" width=\"15\"></span>\n          <li v-for=\"(item, index) in czrzList\" :key=\"index\">\n            <div class=\"timeline-item__tail\" />\n            <div class=\"timeline-itm-date\">\n              <p>{{ item.rq.substr(8) }}</p>\n              <div>{{ item.rq.substring(0,7) }}</div>\n            </div>\n            <div class=\"timeline-wrapper\">\n              <div class=\"timeline-box\">\n                <em>&#9670;</em>\n                <span>&#9670;</span>\n                <h4>操作人：{{ item.clrname }}</h4>\n                <div>操作内容:\n                  <div v-if=\"!item.text.endsWith('$')\" style=\"display: inline-block\">{{ item.text.split(\"$\")[0] }}{{ item.jsrname }}{{ item.text.split(\"$\")[1] }}</div>\n                  <div v-else style=\"display: inline-block\">{{ item.text.substr(0,item.text.length-1) }}{{ item.jsrname }}</div>\n                </div>\n              </div>\n\n            </div>\n          </li>\n        </ul>\n        <div v-else class=\"text-center\">\n          暂无数据查看\n        </div>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"dialogFormVisible=false\">确 定</el-button>\n        <el-button type=\"primary\" plain class=\"colorPlain\" @click=\"dialogFormVisible = false\">取 消</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination/index'\nexport default {\n  components: { Pagination },\n  data() {\n    return {\n      display: 0,\n      listQuery: {\n        status: '1',\n        pageSize: 10,\n        currentPage: 1\n      },\n      tableKey: 0,\n      tableData: [],\n      listLoading: true,\n      total: 100,\n      dialogFormVisible: false,\n      show: false,\n      msg: '',\n      tsTotal: 0,\n      tsCurrent: 1,\n      tsData: [\n        { msg: '您委托的审查鉴定：XXX案件{汉东检刑诉受[2020]980000000000883号}，未接收！' },\n        { msg: '您委托的审查鉴定：XXX案件{汉东检刑诉受号}，未接收！' },\n        { msg: '您委托的审查鉴定：XXX案件{汉东检刑诉受980000000000883号}，未接收！' }\n      ],\n      czrzList: [],\n      pickerOptions0: {\n        disabledDate(time) {\n          return time.getTime() > Date.now()\n        }\n      }\n    }\n  },\n  created() {\n    this.msg = this.tsData[0].msg\n    this.tsTotal = this.tsData.length\n  },\n  mounted() {\n    this.getList()\n    this.show = true\n  },\n  methods: {\n    // 关闭提示\n    closeTs() {\n      this.show = false\n    },\n    // 上一条\n    backHandle() {\n      if (this.tsCurrent > 1) {\n        this.tsCurrent--\n        this.msg = this.tsData[this.tsCurrent - 1].msg\n      }\n    },\n    // 下一条\n    nextHandle() {\n      if (this.tsCurrent > 0 && this.tsCurrent < this.tsTotal) {\n        this.tsCurrent++\n        this.msg = this.tsData[this.tsCurrent - 1].msg\n      }\n    },\n    displayList(flat) {\n      this.display = flat\n      this.listQuery.currentPage = 1\n      this.getList(flat)\n    },\n    selectDate: function() {\n      const dateTime = this.listQuery.xsslrqDate\n      if (dateTime == null) {\n        this.listQuery.slksrq = ''\n        this.listQuery.sljsrq = ''\n      } else {\n        const startTime = this.moment(dateTime[0]).format('YYYY-MM-DD')\n        const endTime = this.moment(dateTime[1]).format('YYYY-MM-DD')\n        this.listQuery.slksrq = startTime\n        this.listQuery.sljsrq = endTime\n      }\n    },\n    onSearch: function() {\n      this.listQuery.currentPage = 1\n      this.getList()\n    },\n    restOff: function(listQuery) {\n      this.$refs[listQuery].resetFields()\n      this.listQuery.slksrq = ''\n      this.listQuery.sljsrq = ''\n      this.getList()\n    },\n    changeCellStyle({ row, columnIndex }) {\n      if (columnIndex === 0) {\n        return 'color: #4084ef'\n      }\n    },\n    getList() {\n      this.listLoading = true// true\n      this.listQuery.wtzt = this.display\n      this.$api.scwtPageList(this.listQuery).then(response => {\n        if (response.code === 200) {\n          this.tableData = response.data.list\n          this.total = response.data.total\n          this.listLoading = false\n        } else {\n          this.$message({\n            message: response.message,\n            type: 'warning'\n          })\n        }\n      })\n    },\n    lookItem: function(item) {\n      this.$router.push({ path: '/scgly/scwtck', query: { xsInfoId: item.id }})\n    },\n    fl: function(item) {\n      this.$router.push({ path: '/scgly/fl', query: { xsInfoId: item.id }})\n    },\n    lcjk(item) {\n      this.$router.push({ path: '/scgly/lcjk', query: { xsInfoId: item.id }})\n    },\n    czrz(item) {\n      this.dialogFormVisible = true\n      const params = {\n        wtid: item.id\n      }\n      this.$api.getCzrzByWtid(params).then(response => {\n        if (response.code === 200) {\n          this.czrzList = response.data\n        } else {\n          this.$message.error(response.message)\n        }\n      })\n    },\n    refresh() {\n      this.getList()\n    },\n    jumpAdd: function() {\n      this.$router.push('/wtysl/scjdtj')\n    }\n  }\n}\n</script>\n<style>\n  .active{\n    color: #fff !important;\n    background: #78a2cc !important;\n    border:none !important;\n  }\n</style>\n<style lang='scss' scoped>\n  .remind{\n    z-index: 99999999;\n    padding: 15px;\n    width: 438px;\n    position: fixed;\n    bottom: 22px;\n    right: 22px;\n    background: #fff;\n    min-height: 200px;\n    border-radius: 5px;\n    box-shadow: 0px 0px 20px 2px rgba(0, 0, 0, 0.2);\n  .remind-head{\n  span{\n    color: #4084f0;\n  }\n  i{\n    cursor: pointer;\n  }\n  }\n  .remind-con{\n    padding: 30px 25px 27px;\n    color: #6b6c70;\n    line-height: 24px;\n  }\n  .remind-foot{\n    display: flex;\n    align-items: flex-end;\n  p{\n    vertical-align: bottom;\n  }\n  .btn{\n    text-align: right;\n    flex: 1;\n  }\n  .num{\n    color: #606266;\n    font-size: 14px;\n  }\n  .yellow{\n    color: #f5b923;\n  }\n  }\n  }\n</style>\n"]}]}