{"remainingRequest":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\src\\views\\zhajgl\\znsonga\\add\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\src\\views\\zhajgl\\znsonga\\add\\index.vue","mtime":1608537290245},{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        name: '',\r\n        jianchayuan: '',\r\n        number: '',\r\n        leixing: '1',\r\n        sfz: '',\r\n        card: '',\r\n        conten:'',\r\n      },\r\n      fileList: [],\r\n      file1:{},\r\n      file2:{},\r\n      file3:{},\r\n      file4:{},\r\n      rules: {\r\n        name: [\r\n            { required: true, message: '请输入姓名', trigger: ['blur', 'change'] }\r\n        ],\r\n        jianchayuan: [\r\n            { required: true, message: '请选择检察院', trigger: ['blur', 'change'] }\r\n        ],\r\n        number: [\r\n            { required: true, message: '请输入手机号码', trigger: ['blur', 'change'] }\r\n        ],\r\n        leixing: [\r\n            { required: true, message: '请选择证件类型', trigger: ['blur', 'change'] }\r\n        ],\r\n        sfz: [\r\n            { required: true, message: '请输入身份证', trigger: ['blur', 'change'] }\r\n        ],\r\n        card: [\r\n            { required: true, message: '请输入执证号码', trigger: ['blur', 'change'] }\r\n        ],\r\n        tupian: [\r\n            { required: true, message: '请选择活', trigger: ['blur', 'change'] }\r\n        ],\r\n        conten: [\r\n            { required: true, message: '请输入律师简介', trigger: ['blur', 'change'] },\r\n            { min: 10, max: 50, message: '长度在 10 到 50 个字符', trigger: ['blur', 'change'] }\r\n        ], \r\n      },\r\n      labelPosition: 'right',\r\n      dialogImageUrl: '',\r\n      dialogVisible: false,\r\n      disabled: false,\r\n      tongXingZheng: false\r\n    }\r\n  },\r\n  methods: {\r\n    onblurnum() {\r\n      this.$api.getjianchanlvshnum(this.form.number).then(res => {\r\n        if (res.code === 0) {\r\n          this.$message.success('手机号码校验通过')\r\n          this.tongXingZheng = true\r\n        }else {\r\n          this.$message.error('手机号码校验不通过, 请重新输入')\r\n          this.tongXingZheng = false\r\n        }\r\n      })\r\n    },\r\n    onblursfz() {\r\n      this.$api.getjianchanlvshsfz(this.form.sfz).then(res => {\r\n        if (res.code === 0) {\r\n          this.$message.success('身份证号码校验通过')\r\n          this.tongXingZheng = true\r\n        }else {\r\n          this.$message.error('身份证校验不通过, 请重新输入')\r\n          this.tongXingZheng = false\r\n        }\r\n      })\r\n    },\r\n    onblurcard() {\r\n      this.$api.getjianchanlvshcard(this.form.card).then(res => {\r\n        if (res.code === 0) {\r\n          this.$message.success('执业证号码校验通过')\r\n          this.tongXingZheng = true\r\n        }else {\r\n          this.$message.error('执业证号码校验不通过, 请重新输入')\r\n          this.tongXingZheng = false\r\n        }\r\n      })\r\n    },\r\n    handleRemove(file) {\r\n      console.log(file);\r\n    },\r\n    handlePictureCardPreview(file) {\r\n      this.dialogImageUrl = file.url;\r\n      this.dialogVisible = true;\r\n    },\r\n    handleDownload(file) {\r\n      console.log(file);\r\n    }, \r\n    // beforeupload (file) {\r\n    //   this.formData.append('file', file)\r\n    //   return false\r\n    // },\r\n    handleChange(file, fileList) {\r\n      console.log(file)\r\n      console.log(fileList)\r\n      console.log(this.fileList)\r\n    },\r\n    beforeupload1(conten) {\r\n      console.log(conten.file)\r\n      this.file1 = conten.file\r\n    },\r\n    beforeupload2(conten) {\r\n      console.log(conten.file)\r\n      this.file2 = conten.file\r\n    },\r\n    beforeupload3(conten) {\r\n      console.log(conten.file)\r\n      this.file3 = conten.file\r\n    },\r\n    beforeupload4(conten) {\r\n      console.log(conten.file)\r\n      this.file4 = conten.file\r\n    },\r\n      // const isJPG = file.type === 'image/jpeg';\r\n      // const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n      // if (!isJPG) {\r\n      //   this.$message.error('上传头像图片只能是 JPG 格式!');\r\n      // }\r\n      // if (!isLt2M) {\r\n      //   this.$message.error('上传头像图片大小不能超过 2MB!');\r\n      // }\r\n      // return isJPG && isLt2M;\r\n   \r\n    goback() {\r\n      this.$router.go(-1)\r\n    },\r\n    submitForm(form) {\r\n      if (!this.tongXingZheng) {\r\n        this.$message.error('手机、身份证或执业证校验未通过,请从重新输入')\r\n        return false\r\n      }\r\n      if (!this.file1.name) {\r\n        this.$message.error('请上传身份证正面')\r\n        return false\r\n      }\r\n      if (!this.file2.name) {\r\n        this.$message.error('请上传身份证背面')\r\n        return false\r\n      }\r\n      if (!this.file3.name) {\r\n        this.$message.error('请上传律师资格证')\r\n        return false\r\n      }\r\n      if (!this.file4.name) {\r\n        this.$message.error('请上传律师形象照')\r\n        return false\r\n      }\r\n      this.$refs[form].validate((valid) => {\r\n          if (valid) {\r\n            let formData = new FormData()\r\n            formData.append(\"lawyerName\", this.form.name)\r\n            formData.append(\"procuratorateId\", localStorage.getItem('danweiID'))\r\n            formData.append(\"mobile\", this.form.number)\r\n            formData.append(\"certificateOption\", this.form.leixing)\r\n            formData.append(\"idcardNum\", this.form.sfz)\r\n            formData.append(\"professionNum\", this.form.card)\r\n            formData.append(\"simpleMemo\", this.form.conten)\r\n            formData.append(\"idcardImgFront\", this.file1)\r\n            formData.append(\"idcardImgBack\", this.file2)\r\n            formData.append(\"certificateImg\", this.file3)\r\n            formData.append(\"photoImg\", this.file4)\r\n            this.$api.uploadlvhsi(formData).then(res => {\r\n              this.$message.success('添加成功')\r\n              this.$router.push({\r\n                name: 'lszyk',\r\n              })\r\n            })\r\n          } else {\r\n            this.$message.error('请输入完整信息')\r\n            return false;\r\n          }\r\n      })\r\n    },\r\n  },\r\n}\r\n",null]}