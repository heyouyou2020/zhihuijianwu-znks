{"remainingRequest":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\src\\views\\xsjcjd\\lajdfz\\bcxs\\bcxsIndex.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\src\\views\\xsjcjd\\lajdfz\\bcxs\\bcxsIndex.vue","mtime":1603165214396},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Pagination from '@/components/Pagination/index'\nexport default {\n  name: '',\n  components: { Pagination },\n  data() {\n    return {\n      listQuery: {\n        lb: '1',\n        xszt: '2',\n        keyWord: '',\n        xsslrqDate: '',\n        zcqk: '',\n        fxyj: '',\n        currentPage: 1,\n        pageSize: 10\n      },\n      laqkOption: [],\n      fxyjOption: [],\n      tableKey: 0,\n      tableData: [],\n      disabled: true,\n      sels: [],\n      listLoading: true,\n      total: 100,\n      pickerOptions0: {\n        disabledDate(time) {\n          return time.getTime() > Date.now()\n        }\n      }\n    }\n  },\n  mounted() {\n    this.getLaqk()\n    this.getfxyj()\n    this.getList()\n  },\n  methods: {\n    lookInfo(row, column, cell, event) {\n      this.$router.push({ path: '/lajdfz/xsck', query: { xsInfoId: row.xsbh, xszt: '2' }})\n    },\n    selectDate: function() {\n      const dateTime = this.listQuery.xsslrqDate\n      if (dateTime == null) {\n        this.listQuery.slksrq = ''\n        this.listQuery.sljsrq = ''\n      } else {\n        const startTime = this.moment(dateTime[0]).format('YYYY-MM-DD')\n        const endTime = this.moment(dateTime[1]).format('YYYY-MM-DD')\n        this.listQuery.slksrq = startTime\n        this.listQuery.sljsrq = endTime\n      }\n    },\n    handleSelectionChange(sels) {\n      this.sels = sels\n      // 遍历选中的数组\n      for (const tableData of this.sels) {\n        this.disabled = false\n      }\n    },\n    delAll: function() {\n      const params = JSON.stringify(this.sels)\n      this.$confirm('确定批量删除吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$api.delAllxsxx(params).then(response => {\n          if (response.code === 200) {\n            this.getList()\n            this.$message({\n              type: 'success',\n              message: response.data\n            })\n          }\n        })\n      }).catch(() => {\n\n      })\n    },\n    getLaqk: function() {\n      this.$api.queryLaqk().then(response => {\n        if (response.code === 200) {\n          this.laqkOption = response.data\n        } else {\n          this.$message.error(response.message)\n        }\n      })\n    },\n    getfxyj: function() {\n      this.$api.queryFxyj().then(response => {\n        if (response.code === 200) {\n          this.fxyjOption = response.data\n        } else {\n          this.$message.error(response.message)\n        }\n      })\n    },\n    onSearch: function() {\n      this.listQuery.currentPage = 1\n      this.getList(this.listQuery)\n    },\n    restOff: function(listQuery) {\n      this.$refs[listQuery].resetFields()\n      this.listQuery.slksrq = ''\n      this.listQuery.sljsrq = ''\n      this.getList()\n    },\n    changeCellStyle({ row, columnIndex }) {\n      if (columnIndex === 1) {\n        return 'color: #4084ef'\n      }\n    },\n    getList() {\n      this.listLoading = true\n      this.$api.queryXsinfo(this.listQuery).then(response => {\n        if (response.code === 200) {\n          this.tableData = response.data.list\n          this.total = response.data.total\n          this.listLoading = false\n        } else {\n          this.$message({\n            message: response.message,\n            type: 'warning'\n          })\n        }\n      })\n    },\n    setXs: function(item) {\n      this.$router.push({ path: '/lajdfzSc/bcxssc', query: { xsInfoId: item.xsbh }})\n    },\n    editItem: function(item) {\n      this.$router.push({ path: '/lajdfzBC/bcxsbj', query: { xsInfoId: item.xsbh }})\n    },\n    deleteItem: function(item) {\n      const params = {\n        xsbh: item.xsbh\n      }\n      this.$confirm('此操作将永久删除, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$api.delXsxx(params).then(response => {\n          if (response.code === 200) {\n            this.getList()\n            this.$message({\n              type: 'success',\n              message: '删除成功!'\n            })\n          }\n        })\n      }).catch(() => {\n\n      })\n    },\n    refresh() {\n      this.getList()\n    }\n  }\n}\n",{"version":3,"sources":["bcxsIndex.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bcxsIndex.vue","sourceRoot":"src/views/xsjcjd/lajdfz/bcxs","sourcesContent":["<template>\n  <div class=\"dashboard-container\">\n    <!--      头部搜索start-->\n    <div class=\"filter-container\">\n      <el-form ref=\"listQuery\" :model=\"listQuery\" :inline=\"true\">\n        <el-form-item label=\"关键字\" prop=\"keyWord\">\n          <el-input\n            v-model=\"listQuery.keyWord\"\n            placeholder=\"线索名称/编号\"\n            class=\"filter-item\"\n            clearable\n            maxlength=\"30\"\n          />\n        </el-form-item>\n        <el-form-item label=\"受理日期\" prop=\"xsslrqDate\">\n          <el-date-picker\n            v-model=\"listQuery.xsslrqDate\"\n            type=\"daterange\"\n            range-separator=\"至\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            style=\"width: 280px\"\n            :picker-options=\"pickerOptions0\"\n            @change=\"selectDate\"\n          />\n        </el-form-item>\n        <el-form-item label=\"立案情况\" prop=\"laqk\">\n          <el-select v-model=\"listQuery.laqk\" placeholder=\"请选择\" value-key=\"value\">\n            <el-option label=\"全部\" value=\"\" />\n            <el-option\n              v-for=\"item in laqkOption\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"预警等级\" prop=\"fxyj\">\n          <el-select v-model=\"listQuery.fxyj\" placeholder=\"请选择\" value-key=\"value\">\n            <el-option label=\"全部\" value=\"\" />\n            <el-option\n              v-for=\"item in fxyjOption\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" plain @click=\"restOff('listQuery')\">重置</el-button>\n          <el-button type=\"primary\" @click=\"onSearch\">查询</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <el-row class=\"mb10\">\n      <el-button\n        plain\n        class=\"btn-noBg fr\"\n        style=\"margin-left: 10px\"\n        :disabled=\"sels.length === 0||disabled\"\n        @click=\"delAll\"\n      >\n        <img src=\"@/icons/img/add.png\" height=\"15\" width=\"15\" style=\"vertical-align: middle\">\n        批量删除\n      </el-button>\n    </el-row>\n    <!--      表格statrt-->\n    <el-table\n      :key=\"tableKey\"\n      v-loading=\"listLoading\"\n      stripe\n      :data=\"tableData\"\n      style=\"width: 100%\"\n      :cell-style=\"changeCellStyle\"\n      highlight-current-row\n      @selection-change=\"handleSelectionChange\"\n      @cell-click=\"lookInfo\"\n    >\n      <el-table-column\n        type=\"selection\"\n        width=\"55\"\n      />\n      <el-table-column\n        prop=\"xsmc\"\n        label=\"线索名称\"\n        cell-class-name=\"colorB\"\n        :show-overflow-tooltip=\"true\"\n      />\n      <el-table-column\n        prop=\"xsbh\"\n        label=\"线索编号\"\n      />\n      <el-table-column\n        prop=\"xsslrq\"\n        label=\"受理日期\"\n        width=\"120\"\n      />\n      <el-table-column\n        prop=\"laqk\"\n        label=\"立案情况\"\n        width=\"180\"\n      />\n      <el-table-column\n        prop=\"fxyj\"\n        label=\"预警等级\"\n        width=\"150\"\n      >\n        <template slot-scope=\"scope\">\n          <span v-if=\"scope.row.fxyj=='一级预警'\" style=\"color:red\"><img src=\"@/icons/img/warn_red.png\" height=\"16\" width=\"16\" class=\"mr5 imgCenter\">{{ scope.row.fxyj }}</span>\n          <span v-if=\"scope.row.fxyj=='二级预警'\" style=\"color:#FF9204\"><img src=\"@/icons/img/warn_yellow.png\" height=\"16\" width=\"16\" class=\"mr5 imgCenter\">{{ scope.row.fxyj }}</span>\n          <span v-if=\"scope.row.fxyj=='三级预警'\" style=\"color:#4FA4FC\"><img src=\"@/icons/img/warn_3.png\" height=\"16\" width=\"16\" class=\"mr5 imgCenter\">{{ scope.row.fxyj }}</span>\n          <span v-if=\"scope.row.fxyj=='四级预警'\" style=\"color:#4EDB87\"><img src=\"@/icons/img/warn_4.png\" height=\"16\" width=\"16\" class=\"mr5 imgCenter\">{{ scope.row.fxyj }}</span>\n          <span v-if=\"scope.row.fxyj=='无风险预警'\">{{ scope.row.fxyj }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"操作\"\n        width=\"200\"\n      >\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" size=\"small\" @click=\"editItem(scope.row)\">编辑</el-button>\n          <el-button type=\"text\" size=\"small\" @click=\"setXs(scope.row)\">转为事项</el-button>\n          <el-button type=\"text\" size=\"small\" @click=\"deleteItem(scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"pageBox\">\n      <pagination\n        v-show=\"total > 0\"\n        :total=\"total\"\n        :page.sync=\"listQuery.currentPage\"\n        :limit.sync=\"listQuery.pageSize\"\n        @pagination=\"refresh\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination/index'\nexport default {\n  name: '',\n  components: { Pagination },\n  data() {\n    return {\n      listQuery: {\n        lb: '1',\n        xszt: '2',\n        keyWord: '',\n        xsslrqDate: '',\n        zcqk: '',\n        fxyj: '',\n        currentPage: 1,\n        pageSize: 10\n      },\n      laqkOption: [],\n      fxyjOption: [],\n      tableKey: 0,\n      tableData: [],\n      disabled: true,\n      sels: [],\n      listLoading: true,\n      total: 100,\n      pickerOptions0: {\n        disabledDate(time) {\n          return time.getTime() > Date.now()\n        }\n      }\n    }\n  },\n  mounted() {\n    this.getLaqk()\n    this.getfxyj()\n    this.getList()\n  },\n  methods: {\n    lookInfo(row, column, cell, event) {\n      this.$router.push({ path: '/lajdfz/xsck', query: { xsInfoId: row.xsbh, xszt: '2' }})\n    },\n    selectDate: function() {\n      const dateTime = this.listQuery.xsslrqDate\n      if (dateTime == null) {\n        this.listQuery.slksrq = ''\n        this.listQuery.sljsrq = ''\n      } else {\n        const startTime = this.moment(dateTime[0]).format('YYYY-MM-DD')\n        const endTime = this.moment(dateTime[1]).format('YYYY-MM-DD')\n        this.listQuery.slksrq = startTime\n        this.listQuery.sljsrq = endTime\n      }\n    },\n    handleSelectionChange(sels) {\n      this.sels = sels\n      // 遍历选中的数组\n      for (const tableData of this.sels) {\n        this.disabled = false\n      }\n    },\n    delAll: function() {\n      const params = JSON.stringify(this.sels)\n      this.$confirm('确定批量删除吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$api.delAllxsxx(params).then(response => {\n          if (response.code === 200) {\n            this.getList()\n            this.$message({\n              type: 'success',\n              message: response.data\n            })\n          }\n        })\n      }).catch(() => {\n\n      })\n    },\n    getLaqk: function() {\n      this.$api.queryLaqk().then(response => {\n        if (response.code === 200) {\n          this.laqkOption = response.data\n        } else {\n          this.$message.error(response.message)\n        }\n      })\n    },\n    getfxyj: function() {\n      this.$api.queryFxyj().then(response => {\n        if (response.code === 200) {\n          this.fxyjOption = response.data\n        } else {\n          this.$message.error(response.message)\n        }\n      })\n    },\n    onSearch: function() {\n      this.listQuery.currentPage = 1\n      this.getList(this.listQuery)\n    },\n    restOff: function(listQuery) {\n      this.$refs[listQuery].resetFields()\n      this.listQuery.slksrq = ''\n      this.listQuery.sljsrq = ''\n      this.getList()\n    },\n    changeCellStyle({ row, columnIndex }) {\n      if (columnIndex === 1) {\n        return 'color: #4084ef'\n      }\n    },\n    getList() {\n      this.listLoading = true\n      this.$api.queryXsinfo(this.listQuery).then(response => {\n        if (response.code === 200) {\n          this.tableData = response.data.list\n          this.total = response.data.total\n          this.listLoading = false\n        } else {\n          this.$message({\n            message: response.message,\n            type: 'warning'\n          })\n        }\n      })\n    },\n    setXs: function(item) {\n      this.$router.push({ path: '/lajdfzSc/bcxssc', query: { xsInfoId: item.xsbh }})\n    },\n    editItem: function(item) {\n      this.$router.push({ path: '/lajdfzBC/bcxsbj', query: { xsInfoId: item.xsbh }})\n    },\n    deleteItem: function(item) {\n      const params = {\n        xsbh: item.xsbh\n      }\n      this.$confirm('此操作将永久删除, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$api.delXsxx(params).then(response => {\n          if (response.code === 200) {\n            this.getList()\n            this.$message({\n              type: 'success',\n              message: '删除成功!'\n            })\n          }\n        })\n      }).catch(() => {\n\n      })\n    },\n    refresh() {\n      this.getList()\n    }\n  }\n}\n</script>\n"]}]}