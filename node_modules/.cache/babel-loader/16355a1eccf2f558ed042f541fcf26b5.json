{"remainingRequest":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\src\\views\\zhajgl\\znsa\\details\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\src\\views\\zhajgl\\znsa\\details\\index.vue","mtime":1601456072935},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/\\u5C0F\\u6CA1\\u6CA1/Desktop/cxl/runboo01/frontend-web/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _vuePdf = _interopRequireDefault(require(\"vue-pdf\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'Details',\n  components: {\n    pdf: _vuePdf.default\n  },\n  data: function data() {\n    return {\n      canshu: '',\n      dialogVisible: false,\n      infoPushVisible: false,\n      cwVisible: false,\n      url: 'http://47.105.218.26:8888/group1/M00/00/00/rB-LJlzT042AbKdCAAiu_35Yccs182.pdf',\n      numPages: 0,\n      pageRotate: 0,\n      // 旋转\n      currentPage: 1,\n      scale: 100,\n      // 放大系数\n      idx: -1,\n      clauseTitle: '',\n      loadedRatio: 0,\n      ankaxinxi: {},\n      treeList: [{\n        label: '满足所有条件',\n        id: '112',\n        children: [{\n          label: '属于本院管辖',\n          id: '443',\n          pid: '0',\n          choose: true\n        }, {\n          label: '犯罪嫌疑人在案',\n          id: '321',\n          pid: '0',\n          choose: true\n        }, {\n          label: '《（不）起诉意见书》一式四份',\n          id: '233',\n          pid: '0',\n          choose: true\n        }, {\n          label: '案卷材料齐备。装订规范',\n          id: '113',\n          pid: '0'\n        }]\n      }],\n      leftProps: {\n        label: 'label'\n      },\n      isClickSelected: false,\n      infoPushRules: {\n        date: [{\n          type: 'date',\n          required: true,\n          message: '请选择时间',\n          trigger: 'change'\n        }],\n        type: [{\n          required: true,\n          message: '请选择流程监控类型',\n          trigger: 'change'\n        }],\n        dec: [{\n          required: true,\n          message: '请填写问题描述',\n          trigger: 'blur'\n        }]\n      },\n      infoPushParam: {\n        type: '',\n        dec: '',\n        admin: '',\n        date: '',\n        man: ''\n      },\n      cwParam: {\n        admin: '',\n        date: '',\n        man: '',\n        goods: ''\n      }\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.getNumPages();\n    this.canshu = this.$route.params.id;\n    this.$api.getShouAncard({\n      bmsah: this.canshu\n    }).then(function (res) {\n      console.log(res);\n      _this.ankaxinxi = res.data;\n    }).catch(function (err) {\n      console.log(err);\n    });\n  },\n  methods: {\n    // 改变PDF页码,val传过来区分上一页下一页的值,0上一页,1下一页\n    changePdfPage: function changePdfPage(val) {\n      if (val === 0 && this.currentPage > 1) {\n        this.currentPage--;\n      }\n\n      if (val === 1 && this.currentPage < this.numPages) {\n        this.currentPage++;\n      }\n    },\n    loadPdfHandler: function loadPdfHandler() {\n      this.currentPage = 1;\n    },\n    // 旋转 顺时针\n    clock: function clock() {\n      this.pageRotate += 90;\n\n      if (this.pageRotate === 360) {\n        this.pageRotate = 0;\n      }\n    },\n    // 放大\n    scaleD: function scaleD(refName) {\n      this.scale += 5;\n      this.$refs[refName].$el.style.width = parseInt(this.scale) + '%';\n    },\n    // 缩小\n    scaleX: function scaleX(refName) {\n      if (this.scale === 100) {\n        return;\n      }\n\n      this.scale += -5;\n      this.$refs[refName].$el.style.width = parseInt(this.scale) + '%';\n    },\n    // 全屏\n    fullscreen: function fullscreen() {\n      this.dialogVisible = true;\n    },\n    checkChange: function checkChange(obj, isChecked, isChildChecked) {\n      // 取消，子节点只要有一个被取消父节点就被取消\n      if (!isChecked) {\n        this.$refs.tree.setChecked(obj.p_id, false);\n      }\n    },\n    clickDeal: function clickDeal(currentObj, treeStatus) {\n      // 用于：父子节点严格互不关联时，父节点勾选变化时通知子节点同步变化，实现单向关联。\n      var selected = treeStatus.checkedKeys.indexOf(currentObj.id); // -1未选中\n\n      this.isClickSelected = selected; // 选中\n\n      if (selected !== -1) {\n        // 子节点只要被选中父节点就被选中\n        this.selectedChildren(currentObj); // 统一处理子节点为相同的勾选状态\n\n        this.uniteChildSame(currentObj, true);\n      } else {\n        // 未选中 处理子节点全部未选中\n        if (currentObj.children && currentObj.children.length !== 0) {\n          this.uniteChildSame(currentObj, false);\n        }\n      }\n    },\n    // 统一处理子节点为相同的勾选状态\n    uniteChildSame: function uniteChildSame(treeList, isSelected) {\n      this.$refs.tree.setChecked(treeList.id, isSelected);\n      var childLen = treeList.children ? treeList.children.length : 0;\n\n      if (childLen) {\n        for (var i = 0; i < childLen; i++) {\n          this.uniteChildSame(treeList.children[i], isSelected);\n        }\n      }\n    },\n    // 统一处理子节点为选中\n    selectedChildren: function selectedChildren(currentObj) {\n      var _this2 = this;\n\n      var currentNode = this.$refs.tree.getNode(currentObj);\n      currentNode.childNodes.map(function (item) {\n        if (item.key !== undefined) {\n          _this2.$refs.tree.setChecked(item, true);\n\n          _this2.selectedChildren(item);\n        }\n      });\n    },\n    // 获取文件总页数\n    getNumPages: function getNumPages() {\n      var _this3 = this;\n\n      var loadingTask = _vuePdf.default.createLoadingTask(this.url);\n\n      loadingTask.promise.then(function (pdf) {\n        console.log(pdf);\n        _this3.numPages = pdf.numPages;\n      }).catch(function (err) {\n        console.error('pdf 加载失败', err);\n      });\n    },\n    // 案卡自动回填\n    autoBlank: function autoBlank() {\n      var img = require('@/icons/img/tishi.png');\n\n      var html = \"<div class=\\\"flex-center\\\" style=\\\"font-size: 16px\\\">\\n          <img src=\\\"\".concat(img, \"\\\" alt=\\\"\\\">\\n          <div style=\\\"margin-left: 14px\\\">\\n            <p style=\\\"margin-bottom: 8px\\\"><strong>\\u6848\\u5361\\u4FE1\\u606F\\u81EA\\u52A8\\u56DE\\u586B\\u5B8C\\u6210!</strong></p>\\n            <p style=\\\"color: #a3a5a8\\\">\\u6848\\u4EF6\\u667A\\u80FD\\u53D7\\u7406\\u5B8C\\u6210\\uFF0C\\u5177\\u4F53\\u4FE1\\u606F\\u5DF2\\u56DE\\u586B\\u6848\\u5361</p>\\n          </div>\\n        </div>\");\n      this.$alert(html, '提示', {\n        dangerouslyUseHTMLString: true,\n        confirmButtonText: '知道了'\n      });\n    },\n    // 流程监控信息推送\n    infoPush: function infoPush() {\n      this.infoPushVisible = true;\n    },\n    // 涉嫌 推送\n    pushFun: function pushFun() {\n      this.$message.success('涉案财物移送信息已推送管理员');\n      this.closeCwVisible();\n    },\n    pushLcjkFun: function pushLcjkFun() {\n      var _this4 = this;\n\n      for (var k in this.infoPushParam) {\n        if (this.infoPushParam[k] == '') {\n          this.$message.success('推送失败请,填写完整信息');\n          return false;\n        }\n      }\n\n      this.$api.getShouAnTuisong({\n        jsrybm: this.infoPushParam.man,\n        message: this.ankaxinxi\n      }).then(function (res) {\n        console.log(res.code);\n        console.log(res.sendResult.messageId);\n\n        _this4.$message.success('流程监控信息已推送管理员');\n\n        _this4.closeInfoPush();\n      }).catch(function (err) {\n        console.log(err);\n\n        _this4.$message.success('推送失败,请重新提交');\n      });\n    },\n    //  关闭弹框\n    closeInfoPush: function closeInfoPush() {\n      this.infoPushVisible = false;\n      this.infoPushParam = {\n        type: '',\n        dec: '',\n        admin: '',\n        date: '',\n        man: ''\n      };\n    },\n    closeCwVisible: function closeCwVisible() {\n      this.cwVisible = false;\n      this.cwParam = {\n        admin: '',\n        date: '',\n        man: '',\n        goods: ''\n      };\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <!-- mengruyue 20-8-30 -->\n  <div class=\"ws_jz\">\n    <el-row :gutter=\"10\">\n      <el-col :span=\"16\">\n        <div class=\"bg-white bese-card\">\n          <div class=\"jz-header flex-space-between\">\n            <div>\n              <img src=\"@/icons/img/mulu.png\" alt=\"\">\n              <strong>任冠新案卷宗</strong> / 被害人诉讼权利义务告知书 / 第8页\n            </div>\n            <div class=\"middle-border\">\n              <el-input style=\"width: 130px\" placeholder=\"输入检索内容\" />\n              <el-button type=\"text\" icon=\"el-icon-arrow-left\" title=\"上一页\" @click=\"changePdfPage(0)\" />\n              <span>{{ currentPage }} / {{ numPages }}</span>\n              <el-button type=\"text\" icon=\"el-icon-arrow-right\" title=\"下一页\" @click=\"changePdfPage(1)\" />\n            </div>\n            <div class=\"right-option-btn\">\n              <el-button type=\"text\" icon=\"el-icon-plus\" title=\"放大\" @click=\"scaleD('wrapper')\" />\n              <el-button type=\"text\" icon=\"el-icon-minus\" title=\"缩小\" @click=\"scaleX('wrapper')\" />\n              <img src=\"@/icons/img/rotat-r.png\" title=\"旋转\" alt=\"\" @click=\"clock\">\n              <img src=\"@/icons/img/full-screen.png\" alt=\"\" title=\"全屏\" @click=\"fullscreen\">\n            </div>\n          </div>\n          <div class=\"jz-left-content\">\n            <pdf\n              ref=\"wrapper\"\n              :page=\"currentPage\"\n              :src=\"url\"\n              :rotate=\"pageRotate\"\n              @page-loaded=\"currentPage=$event\"\n              @loaded=\"loadPdfHandler\"\n            />\n            <!-- <embed :src=\"'http://47.105.218.26:8888/group1/M00/00/00/rB-LJlzT042AbKdCAAiu_35Yccs182.pdf'\" style=\"width: 100%; height: 100%\"/> -->\n          </div>\n        </div>\n      </el-col>\n      <el-col :span=\"8\">\n        <div class=\"bg-white bese-card\">\n          <div class=\"jz-header text-right\">\n            <el-button type=\"primary\" @click=\"autoBlank\">案卡自动回填</el-button>\n            <el-button type=\"primary\" @click=\"infoPush\">流程监控推送</el-button>\n          </div>\n          <div class=\"jz-right-content\">\n            <div class=\"Timeline\">\n              <div class=\"flex\">\n                <span class=\"ball-type\">类别</span>\n                <span class=\"title\">案件类别</span><i class=\"iconfont icon-dian\" /><span class=\"line flex-1\" />\n                <img src=\"@/icons/img/jz_btn.png\" class=\"btn\">\n              </div>\n              <div class=\"content\">\n                {{ ankaxinxi.ajlb }}\n              </div>\n            </div>\n            <div class=\"Timeline\">\n              <div class=\"flex\">\n                <span class=\"ball-type\">期限</span>\n                <span class=\"title\">办案期限</span><i class=\"iconfont icon-dian\" /><span class=\"line flex-1\" />\n                <img src=\"@/icons/img/jz_btn.png\" class=\"btn\">\n              </div>\n              <div class=\"content\">\n                {{ ankaxinxi.blqx }}\n              </div>\n            </div>\n            <div class=\"Timeline\">\n              <div class=\"flex\">\n                <span class=\"ball-type\">措施</span>\n                <span class=\"title\">强制措施</span><i class=\"iconfont icon-dian\" />\n                <span class=\"line flex-1\" />\n                <img src=\"@/icons/img/jz_btn.png\" class=\"btn\">\n              </div>\n              <div class=\"content\">\n                <p>{{ ankaxinxi.xm }}{{ ankaxinxi.qzcsmc }}</p>\n              </div>\n            </div>\n            <div class=\"Timeline\">\n              <div class=\"flex\">\n                <span class=\"ball-type\">不捕</span>\n                <span class=\"title\">是否为不捕直诉案件</span><i class=\"iconfont icon-dian\" /><span class=\"line flex-1\" />\n                <img src=\"@/icons/img/jz_btn.png\" class=\"btn\">\n              </div>\n              <div class=\"content\">\n                <p>{{ ankaxinxi.zasnl }}</p>\n              </div>\n            </div>\n            <div class=\"Timeline\">\n              <div class=\"flex\">\n                <span class=\"ball-type\">标准</span>\n                <span class=\"title\">受理标准</span><i class=\"iconfont icon-dian\" /><span class=\"line flex-1\" />\n                <img src=\"@/icons/img/jz_btn.png\" class=\"btn\">\n              </div>\n              <div class=\"content\">\n                <div class=\"flex-space-between border-b\">\n                  <span>受理标准</span>\n                  <p><span class=\"red\">*</span> 必备条件</p>\n                </div>\n                <el-tree\n                  ref=\"tree\"\n                  node-key=\"id\"\n                  class=\"checked-tree\"\n                  :data=\"treeList\"\n                  show-checkbox\n                  :expand-on-click-node=\"false\"\n                  :check-strictly=\"true\"\n                  :props=\"leftProps\"\n                  @check=\"clickDeal\"\n                  @check-change=\"checkChange\"\n                >\n                  <!-- default-expand-all -->\n                  <span slot-scope=\"{ node }\" class=\"custom-tree-node\">\n                    <span v-if=\"node.data.choose\" class=\"red\">*</span>\n                    <span>{{ node.label }}</span>\n                  </span>\n                </el-tree>\n              </div>\n            </div>\n            <div class=\"Timeline\">\n              <div class=\"flex\">\n                <span class=\"ball-type\">财物</span>\n                <span class=\"title\">涉案财物</span>\n                <i class=\"iconfont icon-dian\" />\n                <p class=\"line flex-1\" />\n                <img src=\"@/icons/img/jz_btn.png\" class=\"btn\">\n              </div>\n              <div class=\"content flex-space-between\">\n                <p>{{ ankaxinxi.sacw }}</p>\n                <el-button type=\"primary\" @click=\"cwVisible = true\">推送</el-button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </el-col>\n    </el-row>\n    <el-dialog\n      :visible.sync=\"dialogVisible\"\n      width=\"30%\"\n      :show-close=\"false\"\n      fullscreen\n    >\n      <div slot=\"title\" class=\"jz-header flex-space-between\">\n        <div>\n          <img src=\"@/icons/img/mulu.png\" alt=\"\">\n          <strong>任冠新案卷宗</strong> / 被害人诉讼权利义务告知书 / 第8页\n        </div>\n        <div class=\"middle-border\">\n          <el-input style=\"width: 130px\" placeholder=\"输入检索内容\" />\n          <el-button type=\"text\" icon=\"el-icon-arrow-left\" title=\"上一页\" @click=\"changePdfPage(0)\" />\n          <span>{ {currentPage }} / {{ numPages }}</span>\n          <el-button type=\"text\" icon=\"el-icon-arrow-right\" title=\"下一页\" @click=\"changePdfPage(1)\" />\n        </div>\n        <div class=\"right-option-btn\">\n          <el-button type=\"text\" icon=\"el-icon-plus\" title=\"放大\" @click=\"scaleD('wrapper1')\" />\n          <el-button type=\"text\" icon=\"el-icon-minus\" title=\"缩小\" @click=\"scaleX('wrapper1')\" />\n          <img src=\"@/icons/img/rotat-r.png\" title=\"旋转\" alt=\"\" @click=\"clock\">\n          <el-button type=\"text\" icon=\"el-icon-close\" title=\"关闭\" @click=\"dialogVisible = false\" />\n        </div>\n      </div>\n      <div class=\"jz-left-content\">\n        <pdf\n          ref=\"wrapper1\"\n          :page=\"currentPage\"\n          :src=\"url\"\n          :rotate=\"pageRotate\"\n          @page-loaded=\"currentPage=$event\"\n          @loaded=\"loadPdfHandler\"\n        />\n        <!-- <embed :src=\"'http://47.105.218.26:8888/group1/M00/00/00/rB-LJlzT042AbKdCAAiu_35Yccs182.pdf'\" style=\"width: 100%; height: 100%\"/> -->\n      </div>\n    </el-dialog>\n    <el-dialog\n      class=\"base-dialog\"\n      title=\"流程监控信息推送\"\n      :visible.sync=\"infoPushVisible\"\n      top=\"34vh\"\n      width=\"500px\"\n      @close=\"closeInfoPush\"\n    >\n      <el-form :model=\"infoPushParam\" :rules=\"infoPushRules\">\n        <table class=\"renderTable\">\n          <tbody>\n            <tr>\n              <td>流程监控类型：</td>\n              <td>\n                <el-select v-model=\"infoPushParam.type\" style=\"width:100%\">\n                  <el-option label=\"很符合\" value=\"1\" />\n                </el-select>\n              </td>\n            </tr>\n            <tr>\n              <td>问题点描述：</td>\n              <td><el-input v-model=\"infoPushParam.dec\" placeholder=\"请输入问题描述\" /></td>\n            </tr>\n            <tr>\n              <td>流程监控管理员：</td>\n              <td>\n                <el-select v-model=\"infoPushParam.admin\" style=\"width:100%\">\n                  <el-option label=\"习近平\" value=\"1\" />\n                  <el-option label=\"李克强\" value=\"1\" />\n                  <el-option label=\"王毅\" value=\"1\" />\n                </el-select>\n              </td>\n            </tr>\n            <tr>\n              <td>移送日期：</td>\n              <td>\n                <el-date-picker\n                  v-model=\"infoPushParam.date\"\n                  type=\"date\"\n                  format=\"yyyy-MM-dd\"\n                  value-format=\"yyyy-MM-dd\"\n                  placeholder=\"选择日期\"\n                />\n              </td>\n            </tr>\n            <tr>\n              <td>移送人：</td>\n              <td>\n                <el-input v-model=\"infoPushParam.man\" placeholder=\"请输入移送人\" />\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button type=\"primary\" @click=\"pushLcjkFun\">推送</el-button>\n        <el-button @click=\"closeInfoPush\">取消</el-button>\n      </div>\n    </el-dialog>\n    <el-dialog\n      class=\"base-dialog\"\n      title=\"涉案财物移送信息\"\n      :visible.sync=\"cwVisible\"\n      top=\"34vh\"\n      width=\"500px\"\n      @close=\"closeCwVisible\"\n    >\n      <el-form :model=\"cwParam\" :rules=\"infoPushRules\">\n        <table class=\"renderTable\">\n          <tbody>\n            <tr>\n              <td>管理员选择：</td>\n              <td>\n                <el-select v-model=\"cwParam.admin\" style=\"width:100%\">\n                  <option value=\"1\">很符合</option>\n                </el-select>\n              </td>\n            </tr>\n            <tr>\n              <td>移送日期：</td>\n              <td>\n                <el-date-picker\n                  v-model=\"cwParam.date\"\n                  type=\"date\"\n                  format=\"yyyy-MM-dd\"\n                  value-format=\"yyyy-MM-dd\"\n                  placeholder=\"选择日期\"\n                />\n              </td>\n            </tr>\n            <tr>\n              <td>移送人：</td>\n              <td>\n                <el-input v-model=\"cwParam.man\" placeholder=\"请输入移送人\" />\n              </td>\n            </tr>\n            <tr>\n              <td>移送物品：</td>\n              <td>\n                <el-input v-model=\"cwParam.goods\" type=\"textarea\" resize=\"none\" placeholder=\"请输入移送物品\" />\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button type=\"primary\" @click=\"pushFun\">推送</el-button>\n        <el-button @click=\"closeInfoPush\">取消</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport pdf from 'vue-pdf'\nexport default {\n  name: 'Details',\n  components: {\n    pdf\n  },\n  data() {\n    return {\n      canshu: '',\n      dialogVisible: false,\n      infoPushVisible: false,\n      cwVisible: false,\n      url: 'http://47.105.218.26:8888/group1/M00/00/00/rB-LJlzT042AbKdCAAiu_35Yccs182.pdf',\n      numPages: 0,\n      pageRotate: 0, // 旋转\n      currentPage: 1,\n      scale: 100, // 放大系数\n      idx: -1,\n      clauseTitle: '',\n      loadedRatio: 0,\n      ankaxinxi: {},\n      treeList: [{\n        label: '满足所有条件',\n        id: '112',\n        children: [{\n          label: '属于本院管辖',\n          id: '443',\n          pid: '0',\n          choose: true\n        },\n        {\n          label: '犯罪嫌疑人在案',\n          id: '321',\n          pid: '0',\n          choose: true\n        },\n        {\n          label: '《（不）起诉意见书》一式四份',\n          id: '233',\n          pid: '0',\n          choose: true\n        },\n        {\n          label: '案卷材料齐备。装订规范',\n          id: '113',\n          pid: '0'\n        }\n        ]\n      }],\n      leftProps: {\n        label: 'label'\n      },\n      isClickSelected: false,\n      infoPushRules: {\n        date: [\n          { type: 'date', required: true, message: '请选择时间', trigger: 'change' }\n        ],\n        type: [\n          { required: true, message: '请选择流程监控类型', trigger: 'change' }\n        ],\n        dec: [\n          { required: true, message: '请填写问题描述', trigger: 'blur' }\n        ]\n      },\n      infoPushParam: {\n        type: '',\n        dec: '',\n        admin: '',\n        date: '',\n        man: ''\n      },\n      cwParam: {\n        admin: '',\n        date: '',\n        man: '',\n        goods: ''\n      }\n    }\n  },\n  created() {\n    this.getNumPages()\n    this.canshu = this.$route.params.id\n    this.$api.getShouAncard({\n      bmsah: this.canshu\n    })\n      .then(res => {\n        console.log(res)\n        this.ankaxinxi = res.data\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  },\n  methods: {\n    // 改变PDF页码,val传过来区分上一页下一页的值,0上一页,1下一页\n    changePdfPage(val) {\n      if (val === 0 && this.currentPage > 1) {\n        this.currentPage--\n      }\n      if (val === 1 && this.currentPage < this.numPages) {\n        this.currentPage++\n      }\n    },\n    loadPdfHandler() {\n      this.currentPage = 1\n    },\n    // 旋转 顺时针\n    clock() {\n      this.pageRotate += 90\n      if (this.pageRotate === 360) {\n        this.pageRotate = 0\n      }\n    },\n    // 放大\n    scaleD(refName) {\n      this.scale += 5\n      this.$refs[refName].$el.style.width = parseInt(this.scale) + '%'\n    },\n    // 缩小\n    scaleX(refName) {\n      if (this.scale === 100) {\n        return\n      }\n      this.scale += -5\n      this.$refs[refName].$el.style.width = parseInt(this.scale) + '%'\n    },\n    // 全屏\n    fullscreen() {\n      this.dialogVisible = true\n    },\n    checkChange(obj, isChecked, isChildChecked) {\n      // 取消，子节点只要有一个被取消父节点就被取消\n      if (!isChecked) {\n        this.$refs.tree.setChecked(obj.p_id, false)\n      }\n    },\n    clickDeal(currentObj, treeStatus) {\n      // 用于：父子节点严格互不关联时，父节点勾选变化时通知子节点同步变化，实现单向关联。\n      const selected = treeStatus.checkedKeys.indexOf(currentObj.id) // -1未选中\n      this.isClickSelected = selected\n      // 选中\n      if (selected !== -1) {\n        // 子节点只要被选中父节点就被选中\n        this.selectedChildren(currentObj)\n        // 统一处理子节点为相同的勾选状态\n        this.uniteChildSame(currentObj, true)\n      } else {\n        // 未选中 处理子节点全部未选中\n        if (currentObj.children && currentObj.children.length !== 0) {\n          this.uniteChildSame(currentObj, false)\n        }\n      }\n    },\n    // 统一处理子节点为相同的勾选状态\n    uniteChildSame(treeList, isSelected) {\n      this.$refs.tree.setChecked(treeList.id, isSelected)\n      const childLen = treeList.children ? treeList.children.length : 0\n      if (childLen) {\n        for (let i = 0; i < childLen; i++) {\n          this.uniteChildSame(treeList.children[i], isSelected)\n        }\n      }\n    },\n    // 统一处理子节点为选中\n    selectedChildren(currentObj) {\n      const currentNode = this.$refs.tree.getNode(currentObj)\n      currentNode.childNodes.map(item => {\n        if (item.key !== undefined) {\n          this.$refs.tree.setChecked(item, true)\n          this.selectedChildren(item)\n        }\n      })\n    },\n    // 获取文件总页数\n    getNumPages() {\n      const loadingTask = pdf.createLoadingTask(this.url)\n      loadingTask.promise.then(pdf => {\n        console.log(pdf)\n        this.numPages = pdf.numPages\n      }).catch(err => {\n        console.error('pdf 加载失败', err)\n      })\n    },\n    // 案卡自动回填\n    autoBlank() {\n      const img = require('@/icons/img/tishi.png')\n      const html = `<div class=\"flex-center\" style=\"font-size: 16px\">\n          <img src=\"${img}\" alt=\"\">\n          <div style=\"margin-left: 14px\">\n            <p style=\"margin-bottom: 8px\"><strong>案卡信息自动回填完成!</strong></p>\n            <p style=\"color: #a3a5a8\">案件智能受理完成，具体信息已回填案卡</p>\n          </div>\n        </div>`\n      this.$alert(html, '提示', {\n        dangerouslyUseHTMLString: true,\n        confirmButtonText: '知道了'\n      })\n    },\n    // 流程监控信息推送\n    infoPush() {\n      this.infoPushVisible = true\n    },\n    // 涉嫌 推送\n    pushFun() {\n      this.$message.success('涉案财物移送信息已推送管理员')\n      this.closeCwVisible()\n    },\n    pushLcjkFun() {\n      for (var k in this.infoPushParam) {\n        if (this.infoPushParam[k] == '') {\n          this.$message.success('推送失败请,填写完整信息')\n          return false  \n        }\n      }\n      this.$api.getShouAnTuisong({\n        jsrybm: this.infoPushParam.man,\n        message:  this.ankaxinxi\n      })\n        .then(res => {\n          console.log(res.code)\n          console.log(res.sendResult.messageId)\n          this.$message.success('流程监控信息已推送管理员')\n          this.closeInfoPush()\n        })\n        .catch(err => {\n          console.log(err)\n          this.$message.success('推送失败,请重新提交')\n        })\n    },\n    //  关闭弹框\n    closeInfoPush() {\n      this.infoPushVisible = false\n      this.infoPushParam = {\n        type: '',\n        dec: '',\n        admin: '',\n        date: '',\n        man: ''\n      }\n    },\n    closeCwVisible() {\n      this.cwVisible = false\n      this.cwParam = {\n        admin: '',\n        date: '',\n        man: '',\n        goods: ''\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.ws_jz {\n  min-height: calc(100vh - 131px);\n  background: #ecf1fa;\n  .renderTable td:nth-child(even){\n    width: auto;\n  }\n  .jz-header {\n    padding: 10px;\n    height: 57px;\n    box-sizing: border-box;\n    border-bottom: 1px solid #a9c4df;\n\n    .el-button--medium {\n      padding: 8px;\n    }\n\n    img {\n      vertical-align: middle;\n      margin-right: 8px;\n    }\n\n    /deep/.el-input--medium .el-input__inner {\n      border: 0;\n    }\n\n    .middle-border {\n      border: 1px solid #a9c4df;\n      border-radius: 4px;\n      color: #879bba;\n\n      i {\n        color: #879bba;\n      }\n    }\n  }\n\n  .border-r {\n    border-right: 1px solid #a9c4df;\n  }\n\n  .border-l {\n    border-left: 1px solid #a9c4df;\n  }\n\n  .jz-left-content,\n  .jz-right-content {\n    height: calc(100vh - 188px);\n    overflow: auto;\n  }\n\n  .jz-right-content {\n    padding: 14px 22px;\n  }\n\n  .right-option-btn {\n    .el-button {\n      font-size: 20px;\n      color: #879bba;\n      padding: 0;\n      margin: 0;\n      margin-right: 12px;\n    }\n    i,\n    img {\n      margin-right: 12px;\n      cursor: pointer;\n    }\n  }\n\n  .Timeline {\n    .border-b {\n      border-bottom: 1px solid #cbdcec;\n    }\n\n    .ball-type {\n      display: inline-block;\n      width: 46px;\n      height: 46px;\n      line-height: 46px;\n      background: #4084ef;\n      border-radius: 50%;\n      text-align: center;\n      color: #fff;\n      box-shadow: 0px 5px 10px rgba(49, 111, 210, 0.6)\n    }\n\n    .line {\n      display: inline-block;\n      border-bottom: 1px dashed #a9c4df;\n      vertical-align: middle;\n    }\n\n    .title {\n      font-weight: 600;\n      font-size: 18px;\n      margin: 0 14px;\n    }\n\n    .iconfont {\n      font-size: 18px;\n      color: #a9c4df;\n      vertical-align: middle;\n    }\n\n    .content {\n      padding: 10px 0 10px 40px;\n      margin: 5px 0 5px 22px;\n      border-left: 1px dashed #a9c4df;\n      color: #8a9ebc;\n\n      p {\n        line-height: 24px;\n      }\n\n      .custom-tree-node {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n    }\n  }\n\n  .checked-tree {\n    /deep/ .el-tree-node__content {\n      border-bottom: 1px solid #cbdcec;\n      height: 40px;\n    }\n\n    /deep/.el-tree-node:nth-child(even)>.el-tree-node__content {\n      background: #f3f6f8;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views/zhajgl/znsa/details"}]}