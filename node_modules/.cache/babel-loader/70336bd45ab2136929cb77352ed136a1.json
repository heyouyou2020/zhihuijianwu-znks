{"remainingRequest":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\src\\views\\zhajgl\\znsonga\\change\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\src\\views\\zhajgl\\znsonga\\change\\index.vue","mtime":1608539287196},{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.function.name\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  data: function data() {\n    return {\n      form: {\n        name: '',\n        number: '',\n        sfz: '',\n        card: '',\n        conten: ''\n      },\n      file1: {},\n      file2: {},\n      file3: {},\n      file4: {},\n      labelPosition: 'right',\n      dialogImageUrl: '',\n      dialogVisible: false,\n      disabled: false,\n      tongXingZheng: false,\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入姓名',\n          trigger: ['blur', 'change']\n        }],\n        jianchayuan: [{\n          required: true,\n          message: '请选择检察院',\n          trigger: ['blur', 'change']\n        }],\n        number: [{\n          required: true,\n          message: '请输入手机号码',\n          trigger: ['blur', 'change']\n        }],\n        leixing: [{\n          required: true,\n          message: '请选择证件类型',\n          trigger: ['blur', 'change']\n        }],\n        sfz: [{\n          required: true,\n          message: '请输入身份证',\n          trigger: ['blur', 'change']\n        }],\n        card: [{\n          required: true,\n          message: '请输入执证号码',\n          trigger: ['blur', 'change']\n        }],\n        tupian: [{\n          required: true,\n          message: '请选择活',\n          trigger: ['blur', 'change']\n        }],\n        conten: [{\n          required: true,\n          message: '请输入律师简介',\n          trigger: ['blur', 'change']\n        }, {\n          min: 10,\n          max: 50,\n          message: '长度在 10 到 50 个字符',\n          trigger: ['blur', 'change']\n        }]\n      }\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$api.getjianchanlvshixq(this.$route.params.id).then(function (res) {\n      console.log(res);\n\n      if (res.code === 0) {\n        _this.form.name = res.data.realName;\n        _this.form.sfz = res.data.idcardNum;\n        _this.form.card = res.data.professionNum;\n        _this.form.conten = res.data.simpleMemo;\n      }\n    });\n  },\n  methods: {\n    onblurnum: function onblurnum() {\n      var _this2 = this;\n\n      this.$api.getjianchanlvshnum(this.form.number).then(function (res) {\n        if (res.code === 0) {\n          _this2.$message.success('手机号码校验通过');\n\n          _this2.tongXingZheng = true;\n        } else {\n          _this2.$message.error('手机号码校验不通过, 请重新输入');\n\n          _this2.tongXingZheng = false;\n        }\n      });\n    },\n    onblursfz: function onblursfz() {\n      var _this3 = this;\n\n      this.$api.getjianchanlvshsfz(this.form.sfz).then(function (res) {\n        if (res.code === 0) {\n          _this3.$message.success('身份证号码校验通过');\n\n          _this3.tongXingZheng = true;\n        } else {\n          _this3.$message.error('身份证校验不通过, 请重新输入');\n\n          _this3.tongXingZheng = false;\n        }\n      });\n    },\n    onblurcard: function onblurcard() {\n      var _this4 = this;\n\n      this.$api.getjianchanlvshcard(this.form.card).then(function (res) {\n        if (res.code === 0) {\n          _this4.$message.success('执业证号码校验通过');\n\n          _this4.tongXingZheng = true;\n        } else {\n          _this4.$message.error('执业证号码校验不通过, 请重新输入');\n\n          _this4.tongXingZheng = false;\n        }\n      });\n    },\n    beforeupload1: function beforeupload1(conten) {\n      console.log(conten.file);\n      this.file1 = conten.file;\n    },\n    beforeupload2: function beforeupload2(conten) {\n      console.log(conten.file);\n      this.file2 = conten.file;\n    },\n    beforeupload3: function beforeupload3(conten) {\n      console.log(conten.file);\n      this.file3 = conten.file;\n    },\n    beforeupload4: function beforeupload4(conten) {\n      console.log(conten.file);\n      this.file4 = conten.file;\n    },\n    handleRemove: function handleRemove(file) {\n      console.log(file);\n    },\n    handlePictureCardPreview: function handlePictureCardPreview(file) {\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    },\n    handleDownload: function handleDownload(file) {\n      console.log(file);\n    },\n    beforeupload: function beforeupload(file) {},\n    submitForm: function submitForm(form) {\n      var _this5 = this;\n\n      if (!this.tongXingZheng) {\n        this.$message.error('手机、身份证或执业证校验未通过,请从重新输入');\n        return false;\n      }\n\n      if (!this.file1.name) {\n        this.$message.error('请上传身份证正面');\n        return false;\n      }\n\n      if (!this.file2.name) {\n        this.$message.error('请上传身份证背面');\n        return false;\n      }\n\n      if (!this.file3.name) {\n        this.$message.error('请上传律师资格证');\n        return false;\n      }\n\n      if (!this.file4.name) {\n        this.$message.error('请上传律师形象照');\n        return false;\n      }\n\n      this.$refs[form].validate(function (valid) {\n        if (valid) {\n          var formData = new FormData();\n          formData.append(\"lawyerName\", _this5.form.name);\n          formData.append(\"procuratorateId\", localStorage.getItem('danweiID'));\n          formData.append(\"mobile\", _this5.form.number);\n          formData.append(\"certificateOption\", '1');\n          formData.append(\"idcardNum\", _this5.form.sfz);\n          formData.append(\"professionNum\", _this5.form.card);\n          formData.append(\"simpleMemo\", _this5.form.conten);\n          formData.append(\"idcardImgFront\", _this5.file1);\n          formData.append(\"idcardImgBack\", _this5.file2);\n          formData.append(\"certificateImg\", _this5.file3);\n          formData.append(\"photoImg\", _this5.file4);\n\n          _this5.$api.changLvShiZiLiao(_this5.$route.params.id, formData).then(function (res) {\n            if (res.code === 0) {\n              _this5.$message.success('修改成功');\n\n              _this5.$router.push({\n                name: 'lszyk'\n              });\n            } else {\n              _this5.$message.error('修改失败');\n            }\n          });\n        } else {\n          _this5.$message.error('请输入完整信息');\n\n          return false;\n        }\n      });\n    },\n    goback: function goback() {\n      this.$router.go(-1);\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <div class=\" clearfix\">\r\n      <!-- 头部搜索start-->\r\n      <div class=\"filter-container\">\r\n        <div class=\"top\">\r\n          <el-form class=\"base-search-form\" :model=\"form\" :rules=\"rules\" ref=\"form\" :inline=\"true\" :label-position=\"labelPosition\" label-width=\"140px\">\r\n            <div class=\"one\">\r\n              <el-form-item label=\"咨询人姓名\" width=\"400\" prop=\"name\">\r\n                <el-input\r\n                  v-model=\"form.name\"\r\n                  placeholder=\"请输入姓名\"\r\n                  style=\"width:500px\"\r\n                  clearable\r\n                />\r\n              </el-form-item>\r\n            </div>\r\n            <!-- <div class=\"one\">\r\n              <el-form-item label=\"签约检察院\">\r\n                <el-select v-model=\"form.jianchayuan\" placeholder=\"请选择\" style=\"width:500px\">\r\n                  <el-option label=\"2\" value=\"180\" />\r\n                </el-select>\r\n              </el-form-item>\r\n            </div> -->\r\n            <div class=\"one\">\r\n              <el-form-item label=\"手机号码\" prop=\"number\">\r\n                <el-input\r\n                  v-model=\"form.number\"\r\n                  @blur=\"onblurnum\"\r\n                  style=\"width:500px\"\r\n                  placeholder=\"请输入号码\"\r\n                  clearable\r\n                />\r\n              </el-form-item>\r\n            </div>\r\n            <div class=\"one\">\r\n              <el-form-item label=\"身份证号码\" prop=\"sfz\">\r\n                <el-input\r\n                  v-model=\"form.sfz\"\r\n                  @blur=\"onblursfz\"\r\n                  style=\"width:500px\"\r\n                  placeholder=\"请输入证件号码\"\r\n                  clearable\r\n                />\r\n              </el-form-item>\r\n            </div>\r\n            <div class=\"one\">\r\n              <el-form-item label=\"执业证号码\" prop=\"card\">\r\n                <el-input\r\n                  v-model=\"form.card\"\r\n                  @blur=\"onblurcard\"\r\n                  style=\"width:500px\"\r\n                  placeholder=\"请输入证件号码\"\r\n                  clearable\r\n                />\r\n              </el-form-item>\r\n            </div>\r\n            <div class=\"one\">\r\n              <el-form-item label=\"律师简介\" prop=\"conten\">\r\n                <el-input\r\n                  type=\"textarea\"\r\n                  :rows=\"4\"\r\n                  v-model=\"form.conten\"\r\n                  style=\"width:500px\"\r\n                  placeholder=\"描述律师特点\"\r\n                  clearable\r\n                />\r\n              </el-form-item>\r\n            </div>\r\n            <div class=\"one\">\r\n              <el-form-item label=\"上传身份证正面\">\r\n                <el-upload\r\n                  action=\"#\"\r\n                  list-type=\"picture-card\"\r\n                  :http-request=\"beforeupload1\"\r\n                  :auto-upload=\"true\">\r\n                    <i slot=\"default\" class=\"el-icon-plus\"></i>\r\n                    <div slot=\"file\" slot-scope=\"{file}\">\r\n                      <img\r\n                        class=\"el-upload-list__item-thumbnail\"\r\n                        :src=\"file.url\" alt=\"\"\r\n                      >\r\n                      <span class=\"el-upload-list__item-actions\">\r\n                        <span\r\n                          class=\"el-upload-list__item-preview\"\r\n                          @click=\"handlePictureCardPreview(file)\"\r\n                        >\r\n                          <i class=\"el-icon-zoom-in\"></i>\r\n                        </span>\r\n                        <span\r\n                          v-if=\"!disabled\"\r\n                          class=\"el-upload-list__item-delete\"\r\n                          @click=\"handleDownload(file)\"\r\n                        >\r\n                          <i class=\"el-icon-download\"></i>\r\n                        </span>\r\n                        <span\r\n                          v-if=\"!disabled\"\r\n                          class=\"el-upload-list__item-delete\"\r\n                          @click=\"handleRemove(file)\"\r\n                        >\r\n                          <i class=\"el-icon-delete\"></i>\r\n                        </span>\r\n                      </span>\r\n                    </div>\r\n                </el-upload>\r\n                <el-dialog :visible.sync=\"dialogVisible\">\r\n                  <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n                </el-dialog>                \r\n              </el-form-item>\r\n            </div>\r\n            <div class=\"one\">\r\n              <el-form-item label=\"上传身份证正面\">\r\n                <el-upload\r\n                  action=\"#\"\r\n                  list-type=\"picture-card\"\r\n                  :http-request=\"beforeupload2\"\r\n                  :auto-upload=\"true\">\r\n                    <i slot=\"default\" class=\"el-icon-plus\"></i>\r\n                    <div slot=\"file\" slot-scope=\"{file}\">\r\n                      <img\r\n                        class=\"el-upload-list__item-thumbnail\"\r\n                        :src=\"file.url\" alt=\"\"\r\n                      >\r\n                      <span class=\"el-upload-list__item-actions\">\r\n                        <span\r\n                          class=\"el-upload-list__item-preview\"\r\n                          @click=\"handlePictureCardPreview(file)\"\r\n                        >\r\n                          <i class=\"el-icon-zoom-in\"></i>\r\n                        </span>\r\n                        <span\r\n                          v-if=\"!disabled\"\r\n                          class=\"el-upload-list__item-delete\"\r\n                          @click=\"handleDownload(file)\"\r\n                        >\r\n                          <i class=\"el-icon-download\"></i>\r\n                        </span>\r\n                        <span\r\n                          v-if=\"!disabled\"\r\n                          class=\"el-upload-list__item-delete\"\r\n                          @click=\"handleRemove(file)\"\r\n                        >\r\n                          <i class=\"el-icon-delete\"></i>\r\n                        </span>\r\n                      </span>\r\n                    </div>\r\n                </el-upload>\r\n                <el-dialog :visible.sync=\"dialogVisible\">\r\n                  <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n                </el-dialog>                \r\n              </el-form-item>\r\n            </div>\r\n            <div class=\"one\">\r\n              <el-form-item label=\"上传律师资格证\">\r\n                <el-upload\r\n                  action=\"#\"\r\n                  list-type=\"picture-card\"\r\n                  :http-request=\"beforeupload3\"\r\n                  :auto-upload=\"true\">\r\n                    <i slot=\"default\" class=\"el-icon-plus\"></i>\r\n                    <div slot=\"file\" slot-scope=\"{file}\">\r\n                      <img\r\n                        class=\"el-upload-list__item-thumbnail\"\r\n                        :src=\"file.url\" alt=\"\"\r\n                      >\r\n                      <span class=\"el-upload-list__item-actions\">\r\n                        <span\r\n                          class=\"el-upload-list__item-preview\"\r\n                          @click=\"handlePictureCardPreview(file)\"\r\n                        >\r\n                          <i class=\"el-icon-zoom-in\"></i>\r\n                        </span>\r\n                        <span\r\n                          v-if=\"!disabled\"\r\n                          class=\"el-upload-list__item-delete\"\r\n                          @click=\"handleDownload(file)\"\r\n                        >\r\n                          <i class=\"el-icon-download\"></i>\r\n                        </span>\r\n                        <span\r\n                          v-if=\"!disabled\"\r\n                          class=\"el-upload-list__item-delete\"\r\n                          @click=\"handleRemove(file)\"\r\n                        >\r\n                          <i class=\"el-icon-delete\"></i>\r\n                        </span>\r\n                      </span>\r\n                    </div>\r\n                </el-upload>\r\n                <el-dialog :visible.sync=\"dialogVisible\">\r\n                  <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n                </el-dialog>                \r\n              </el-form-item>\r\n            </div>\r\n            <div class=\"one\">\r\n              <el-form-item label=\"上传律师形象照\">\r\n                <el-upload\r\n                  action=\"#\"\r\n                  list-type=\"picture-card\"\r\n                  :http-request=\"beforeupload4\"\r\n                  :auto-upload=\"true\">\r\n                    <i slot=\"default\" class=\"el-icon-plus\"></i>\r\n                    <div slot=\"file\" slot-scope=\"{file}\">\r\n                      <img\r\n                        class=\"el-upload-list__item-thumbnail\"\r\n                        :src=\"file.url\" alt=\"\"\r\n                      >\r\n                      <span class=\"el-upload-list__item-actions\">\r\n                        <span\r\n                          class=\"el-upload-list__item-preview\"\r\n                          @click=\"handlePictureCardPreview(file)\"\r\n                        >\r\n                          <i class=\"el-icon-zoom-in\"></i>\r\n                        </span>\r\n                        <span\r\n                          v-if=\"!disabled\"\r\n                          class=\"el-upload-list__item-delete\"\r\n                          @click=\"handleDownload(file)\"\r\n                        >\r\n                          <i class=\"el-icon-download\"></i>\r\n                        </span>\r\n                        <span\r\n                          v-if=\"!disabled\"\r\n                          class=\"el-upload-list__item-delete\"\r\n                          @click=\"handleRemove(file)\"\r\n                        >\r\n                          <i class=\"el-icon-delete\"></i>\r\n                        </span>\r\n                      </span>\r\n                    </div>\r\n                </el-upload>\r\n                <el-dialog :visible.sync=\"dialogVisible\">\r\n                  <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n                </el-dialog>                \r\n              </el-form-item>\r\n            </div>\r\n            <div class=\"one\" id=\"last\">\r\n              <el-form-item class=\"last-item\">\r\n                <el-input\r\n                  type=\"submit\"\r\n                  value=\"确认修改\"\r\n                  @click.native=\"submitForm('form')\"\r\n                  style=\"width:100px\"\r\n                />\r\n              </el-form-item>\r\n              <el-form-item class=\"last-item\">\r\n                <el-input\r\n                  type=\"reset\"\r\n                  value=\"取消\"\r\n                  @click.native=\"goback\"\r\n                  style=\"width:100px\"\r\n                />\r\n              </el-form-item>\r\n            </div>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        name: '',\r\n        number: '',\r\n        sfz: '',\r\n        card: '',\r\n        conten: '',\r\n      },\r\n      file1:{},\r\n      file2:{},\r\n      file3:{},\r\n      file4:{},\r\n      labelPosition: 'right',\r\n      dialogImageUrl: '',\r\n      dialogVisible: false,\r\n      disabled: false,\r\n      tongXingZheng: false,\r\n      rules: {\r\n        name: [\r\n            { required: true, message: '请输入姓名', trigger: ['blur', 'change'] }\r\n        ],\r\n        jianchayuan: [\r\n            { required: true, message: '请选择检察院', trigger: ['blur', 'change'] }\r\n        ],\r\n        number: [\r\n            { required: true, message: '请输入手机号码', trigger: ['blur', 'change'] }\r\n        ],\r\n        leixing: [\r\n            { required: true, message: '请选择证件类型', trigger: ['blur', 'change'] }\r\n        ],\r\n        sfz: [\r\n            { required: true, message: '请输入身份证', trigger: ['blur', 'change'] }\r\n        ],\r\n        card: [\r\n            { required: true, message: '请输入执证号码', trigger: ['blur', 'change'] }\r\n        ],\r\n        tupian: [\r\n            { required: true, message: '请选择活', trigger: ['blur', 'change'] }\r\n        ],\r\n        conten: [\r\n            { required: true, message: '请输入律师简介', trigger: ['blur', 'change'] },\r\n            { min: 10, max: 50, message: '长度在 10 到 50 个字符', trigger: ['blur', 'change'] }\r\n        ], \r\n      },\r\n    }\r\n  },\r\n  created() {\r\n    this.$api.getjianchanlvshixq(this.$route.params.id).then(res => {\r\n      console.log(res)\r\n      if (res.code === 0) {\r\n        this.form.name = res.data.realName\r\n        this.form.sfz = res.data.idcardNum\r\n        this.form.card = res.data.professionNum\r\n        this.form.conten = res.data.simpleMemo\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    onblurnum() {\r\n      this.$api.getjianchanlvshnum(this.form.number).then(res => {\r\n        if (res.code === 0) {\r\n          this.$message.success('手机号码校验通过')\r\n          this.tongXingZheng = true\r\n        }else {\r\n          this.$message.error('手机号码校验不通过, 请重新输入')\r\n          this.tongXingZheng = false\r\n        }\r\n      })\r\n    },\r\n    onblursfz() {\r\n      this.$api.getjianchanlvshsfz(this.form.sfz).then(res => {\r\n        if (res.code === 0) {\r\n          this.$message.success('身份证号码校验通过')\r\n          this.tongXingZheng = true\r\n        }else {\r\n          this.$message.error('身份证校验不通过, 请重新输入')\r\n          this.tongXingZheng = false\r\n        }\r\n      })\r\n    },\r\n    onblurcard() {\r\n      this.$api.getjianchanlvshcard(this.form.card).then(res => {\r\n        if (res.code === 0) {\r\n          this.$message.success('执业证号码校验通过')\r\n          this.tongXingZheng = true\r\n        }else {\r\n          this.$message.error('执业证号码校验不通过, 请重新输入')\r\n          this.tongXingZheng = false\r\n        }\r\n      })\r\n    },\r\n    beforeupload1(conten) {\r\n      console.log(conten.file)\r\n      this.file1 = conten.file\r\n    },\r\n    beforeupload2(conten) {\r\n      console.log(conten.file)\r\n      this.file2 = conten.file\r\n    },\r\n    beforeupload3(conten) {\r\n      console.log(conten.file)\r\n      this.file3 = conten.file\r\n    },\r\n    beforeupload4(conten) {\r\n      console.log(conten.file)\r\n      this.file4 = conten.file\r\n    },\r\n    handleRemove(file) {\r\n      console.log(file);\r\n    },\r\n    handlePictureCardPreview(file) {\r\n      this.dialogImageUrl = file.url;\r\n      this.dialogVisible = true;\r\n    },\r\n    handleDownload(file) {\r\n      console.log(file);\r\n    }, \r\n    beforeupload (file) {\r\n    },\r\n    submitForm(form) {\r\n      if (!this.tongXingZheng) {\r\n        this.$message.error('手机、身份证或执业证校验未通过,请从重新输入')\r\n        return false\r\n      }\r\n      if (!this.file1.name) {\r\n        this.$message.error('请上传身份证正面')\r\n        return false\r\n      }\r\n      if (!this.file2.name) {\r\n        this.$message.error('请上传身份证背面')\r\n        return false\r\n      }\r\n      if (!this.file3.name) {\r\n        this.$message.error('请上传律师资格证')\r\n        return false\r\n      }\r\n      if (!this.file4.name) {\r\n        this.$message.error('请上传律师形象照')\r\n        return false\r\n      }\r\n      this.$refs[form].validate((valid) => {\r\n          if (valid) {\r\n            let formData = new FormData()\r\n            formData.append(\"lawyerName\", this.form.name)\r\n            formData.append(\"procuratorateId\", localStorage.getItem('danweiID'))\r\n            formData.append(\"mobile\", this.form.number)\r\n            formData.append(\"certificateOption\", '1')\r\n            formData.append(\"idcardNum\", this.form.sfz)\r\n            formData.append(\"professionNum\", this.form.card)\r\n            formData.append(\"simpleMemo\", this.form.conten)\r\n            formData.append(\"idcardImgFront\", this.file1)\r\n            formData.append(\"idcardImgBack\", this.file2)\r\n            formData.append(\"certificateImg\", this.file3)\r\n            formData.append(\"photoImg\", this.file4)\r\n            this.$api.changLvShiZiLiao(this.$route.params.id, formData).then(res => {\r\n              if (res.code === 0) {\r\n                this.$message.success('修改成功')\r\n                this.$router.push({\r\n                  name: 'lszyk',\r\n                })\r\n              }else {\r\n                this.$message.error('修改失败')\r\n              }\r\n            })\r\n          } else {\r\n            this.$message.error('请输入完整信息')\r\n            return false;\r\n          }\r\n      })\r\n    },\r\n    goback() {\r\n      this.$router.go(-1)\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.top{\r\n    width: 100%;\r\n    .one{\r\n        width: 40%;\r\n        margin: 20px auto;\r\n    }\r\n}\r\n.yourForm {\r\n  .el-input {\r\n    width: 350px;\r\n  }\r\n}\r\n#last{\r\n    display: flex;\r\n    justify-content: space-around;\r\n}\r\ninput{\r\n    outline: none;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/zhajgl/znsonga/change"}]}