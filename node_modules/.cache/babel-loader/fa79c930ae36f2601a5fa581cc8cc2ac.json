{"remainingRequest":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\src\\views\\zhajgl\\znsonga\\change\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\src\\views\\zhajgl\\znsonga\\change\\index.vue","mtime":1608539287196},{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\zhihuiks\\lvshipingtai\\frontend-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      form: {\n        name: '',\n        number: '',\n        sfz: '',\n        card: '',\n        conten: ''\n      },\n      file1: {},\n      file2: {},\n      file3: {},\n      file4: {},\n      labelPosition: 'right',\n      dialogImageUrl: '',\n      dialogVisible: false,\n      disabled: false,\n      tongXingZheng: false,\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入姓名',\n          trigger: ['blur', 'change']\n        }],\n        jianchayuan: [{\n          required: true,\n          message: '请选择检察院',\n          trigger: ['blur', 'change']\n        }],\n        number: [{\n          required: true,\n          message: '请输入手机号码',\n          trigger: ['blur', 'change']\n        }],\n        leixing: [{\n          required: true,\n          message: '请选择证件类型',\n          trigger: ['blur', 'change']\n        }],\n        sfz: [{\n          required: true,\n          message: '请输入身份证',\n          trigger: ['blur', 'change']\n        }],\n        card: [{\n          required: true,\n          message: '请输入执证号码',\n          trigger: ['blur', 'change']\n        }],\n        tupian: [{\n          required: true,\n          message: '请选择活',\n          trigger: ['blur', 'change']\n        }],\n        conten: [{\n          required: true,\n          message: '请输入律师简介',\n          trigger: ['blur', 'change']\n        }, {\n          min: 10,\n          max: 50,\n          message: '长度在 10 到 50 个字符',\n          trigger: ['blur', 'change']\n        }]\n      }\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$api.getjianchanlvshixq(this.$route.params.id).then(function (res) {\n      console.log(res);\n\n      if (res.code === 0) {\n        _this.form.name = res.data.realName;\n        _this.form.sfz = res.data.idcardNum;\n        _this.form.card = res.data.professionNum;\n        _this.form.conten = res.data.simpleMemo;\n      }\n    });\n  },\n  methods: {\n    onblurnum: function onblurnum() {\n      var _this2 = this;\n\n      this.$api.getjianchanlvshnum(this.form.number).then(function (res) {\n        if (res.code === 0) {\n          _this2.$message.success('手机号码校验通过');\n\n          _this2.tongXingZheng = true;\n        } else {\n          _this2.$message.error('手机号码校验不通过, 请重新输入');\n\n          _this2.tongXingZheng = false;\n        }\n      });\n    },\n    onblursfz: function onblursfz() {\n      var _this3 = this;\n\n      this.$api.getjianchanlvshsfz(this.form.sfz).then(function (res) {\n        if (res.code === 0) {\n          _this3.$message.success('身份证号码校验通过');\n\n          _this3.tongXingZheng = true;\n        } else {\n          _this3.$message.error('身份证校验不通过, 请重新输入');\n\n          _this3.tongXingZheng = false;\n        }\n      });\n    },\n    onblurcard: function onblurcard() {\n      var _this4 = this;\n\n      this.$api.getjianchanlvshcard(this.form.card).then(function (res) {\n        if (res.code === 0) {\n          _this4.$message.success('执业证号码校验通过');\n\n          _this4.tongXingZheng = true;\n        } else {\n          _this4.$message.error('执业证号码校验不通过, 请重新输入');\n\n          _this4.tongXingZheng = false;\n        }\n      });\n    },\n    beforeupload1: function beforeupload1(conten) {\n      console.log(conten.file);\n      this.file1 = conten.file;\n    },\n    beforeupload2: function beforeupload2(conten) {\n      console.log(conten.file);\n      this.file2 = conten.file;\n    },\n    beforeupload3: function beforeupload3(conten) {\n      console.log(conten.file);\n      this.file3 = conten.file;\n    },\n    beforeupload4: function beforeupload4(conten) {\n      console.log(conten.file);\n      this.file4 = conten.file;\n    },\n    handleRemove: function handleRemove(file) {\n      console.log(file);\n    },\n    handlePictureCardPreview: function handlePictureCardPreview(file) {\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    },\n    handleDownload: function handleDownload(file) {\n      console.log(file);\n    },\n    beforeupload: function beforeupload(file) {},\n    submitForm: function submitForm(form) {\n      var _this5 = this;\n\n      if (!this.tongXingZheng) {\n        this.$message.error('手机、身份证或执业证校验未通过,请从重新输入');\n        return false;\n      }\n\n      if (!this.file1.name) {\n        this.$message.error('请上传身份证正面');\n        return false;\n      }\n\n      if (!this.file2.name) {\n        this.$message.error('请上传身份证背面');\n        return false;\n      }\n\n      if (!this.file3.name) {\n        this.$message.error('请上传律师资格证');\n        return false;\n      }\n\n      if (!this.file4.name) {\n        this.$message.error('请上传律师形象照');\n        return false;\n      }\n\n      this.$refs[form].validate(function (valid) {\n        if (valid) {\n          var formData = new FormData();\n          formData.append(\"lawyerName\", _this5.form.name);\n          formData.append(\"procuratorateId\", localStorage.getItem('danweiID'));\n          formData.append(\"mobile\", _this5.form.number);\n          formData.append(\"certificateOption\", '1');\n          formData.append(\"idcardNum\", _this5.form.sfz);\n          formData.append(\"professionNum\", _this5.form.card);\n          formData.append(\"simpleMemo\", _this5.form.conten);\n          formData.append(\"idcardImgFront\", _this5.file1);\n          formData.append(\"idcardImgBack\", _this5.file2);\n          formData.append(\"certificateImg\", _this5.file3);\n          formData.append(\"photoImg\", _this5.file4);\n\n          _this5.$api.changLvShiZiLiao(_this5.$route.params.id, formData).then(function (res) {\n            if (res.code === 0) {\n              _this5.$message.success('修改成功');\n\n              _this5.$router.push({\n                name: 'lszyk'\n              });\n            } else {\n              _this5.$message.error('修改失败');\n            }\n          });\n        } else {\n          _this5.$message.error('请输入完整信息');\n\n          return false;\n        }\n      });\n    },\n    goback: function goback() {\n      this.$router.go(-1);\n    }\n  }\n};",null]}