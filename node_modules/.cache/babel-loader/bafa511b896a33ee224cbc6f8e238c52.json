{"remainingRequest":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\src\\views\\zhscjd\\sczyk\\jdzyk\\addEditor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\src\\views\\zhscjd\\sczyk\\jdzyk\\addEditor.vue","mtime":1602573201657},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/\\u5C0F\\u6CA1\\u6CA1/Desktop/cxl/runboo01/frontend-web/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _FileUpload = _interopRequireDefault(require(\"@/components/Upload/FileUpload\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'Jdbztj',\n  components: {\n    FileUpload: _FileUpload.default\n  },\n  data: function data() {\n    return {\n      itemId: '',\n      status: '',\n      file: [],\n      zylyOption: [],\n      tableForm: {\n        lb: '3'\n      },\n      fileList: [],\n      rules: {\n        scajqk: [{\n          required: true,\n          message: '请进行输入',\n          trigger: 'change'\n        }],\n        xm: [{\n          required: true,\n          message: '请进行输入',\n          trigger: 'change'\n        }],\n        xl: [{\n          required: true,\n          message: '请进行输入',\n          trigger: 'change'\n        }],\n        ssbm: [{\n          required: true,\n          message: '请进行输入',\n          trigger: 'change'\n        }],\n        ssdw: [{\n          required: true,\n          message: '请进行输入',\n          trigger: 'change'\n        }],\n        zyly: [{\n          required: true,\n          message: '请进行输入',\n          trigger: 'change'\n        }],\n        tc: [{\n          required: true,\n          message: '请进行输入',\n          trigger: 'change'\n        }]\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.itemId = this.$route.query.itemId;\n\n    if (this.itemId) {\n      // 获取当前条目信息\n      this.getXsInfo(this.itemId);\n    }\n\n    this.getZyly();\n  },\n  methods: {\n    showFromChild: function showFromChild(data) {\n      this.file = data;\n    },\n    getZyly: function getZyly() {\n      var _this = this;\n\n      this.$api.getCode('zyly').then(function (response) {\n        if (response.code === 200) {\n          _this.zylyOption = response.data;\n        } else {\n          _this.$message.error(response.message);\n        }\n      });\n    },\n    getXsInfo: function getXsInfo(xsbh) {\n      var _this2 = this;\n\n      this.$api.queryScrybybh(xsbh).then(function (response) {\n        if (response.code === 200) {\n          _this2.tableForm = response.data;\n          _this2.fileList = _this2.tableForm.zls;\n          _this2.file = _this2.tableForm.file;\n        } else {\n          _this2.$message.error(response.message);\n        }\n      });\n    },\n    addTo: function addTo(tableForm) {\n      var _this3 = this;\n\n      this.$refs[tableForm].validate(function (valid) {\n        if (valid) {\n          _this3.$api.insertScry(tableForm).then(function (response) {\n            if (response.code === 200) {\n              _this3.$message({\n                message: '保存成功',\n                type: 'success'\n              });\n\n              _this3.$router.push('/jdzyk/index');\n            } else {\n              _this3.$message.error(response.message);\n            }\n          });\n        }\n      });\n    },\n    editSave: function editSave(tableForm) {\n      var _this4 = this;\n\n      this.$refs[tableForm].validate(function (valid) {\n        if (valid) {\n          _this4.$api.updateScryxx(tableForm).then(function (response) {\n            if (response.code === 200) {\n              _this4.$message({\n                message: '保存成功',\n                type: 'success'\n              });\n\n              _this4.$router.push('/jdzyk/index');\n            } else {\n              _this4.$message.error(response.message);\n            }\n          });\n        }\n      });\n    },\n    goBack: function goBack() {\n      this.$router.go(-1);\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["addEditor.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"dashboard-container p0\">\n    <div class=\" clearfix\" />\n    <div class=\"p20 pt30\">\n      <el-row>\n        <span class=\"lineStep\" />\n        <span v-if=\"itemId === '' || itemId === undefined\">添加鉴定人员</span>\n        <span v-else>编辑鉴定人员</span>\n      </el-row>\n      <el-form :ref=\"tableForm\" :model=\"tableForm\" :rules=\"rules\" class=\"mt20\">\n        <table class=\"renderTable\">\n          <tbody>\n            <tr>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>姓名：</td>\n              <td>\n                <el-form-item label=\"\" prop=\"xm\">\n                  <el-input\n                    v-model=\"tableForm.xm\"\n                    placeholder=\"请输入\"\n                    maxlength=\"300\"\n                  />\n                </el-form-item>\n              </td>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>学历：</td>\n              <td>\n                <el-form-item label=\"\" prop=\"xl\">\n                  <el-input\n                    v-model=\"tableForm.xl\"\n                    placeholder=\"请输入\"\n                    maxlength=\"300\"\n                  />\n                </el-form-item>\n              </td>\n            </tr>\n            <tr>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>机构名称：</td>\n              <td>\n                <el-form-item label=\"\" prop=\"jgmc\">\n                  <el-input\n                    v-model=\"tableForm.jgmc\"\n                    placeholder=\"请输入\"\n                    maxlength=\"300\"\n                  />\n                </el-form-item>\n              </td>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>许可证号：</td>\n              <td>\n                <el-form-item label=\"\" prop=\"xkzh\">\n                  <el-input\n                    v-model=\"tableForm.xkzh\"\n                    placeholder=\"请输入\"\n                    maxlength=\"300\"\n                  />\n                </el-form-item>\n              </td>\n            </tr>\n            <tr>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>职业资格：</td>\n              <td>\n                <el-form-item label=\"\" prop=\"zyzg\">\n                  <el-input\n                    v-model=\"tableForm.zyzg\"\n                    placeholder=\"请输入\"\n                    maxlength=\"300\"\n                  />\n                  <!--                  <el-select v-model=\"tableForm.zyly\" placeholder=\"请选择\" value-key=\"value\" style=\"width: 100%\">-->\n                  <!--                    <el-option label=\"全部\" value=\"\" />-->\n                  <!--                    <el-option-->\n                  <!--                      v-for=\"item in zylyOption\"-->\n                  <!--                      :key=\"item.value\"-->\n                  <!--                      :label=\"item.label\"-->\n                  <!--                      :value=\"item.value\"-->\n                  <!--                    />-->\n                  <!--                  </el-select>-->\n                </el-form-item>\n              </td>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>联系方式：</td>\n              <td>\n                <el-form-item label=\"\" prop=\"lxfs\">\n                  <el-input\n                    v-model=\"tableForm.lxfs\"\n                    placeholder=\"请输入\"\n                    onkeyup=\"this.value=this.value.replace(/[^\\d.]/g,'');\"\n                    maxlength=\"11\"\n                  />\n                </el-form-item>\n              </td>\n            </tr>\n            <tr>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>个人特长：</td>\n              <td colspan=\"3\">\n                <el-form-item label=\"\" prop=\"tc\">\n                  <el-input\n                    v-model=\"tableForm.tc\"\n                    type=\"textarea\"\n                    placeholder=\"请输入\"\n                    maxlength=\"300\"\n                  />\n                </el-form-item>\n              </td>\n            </tr>\n            <tr>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>服务情况：</td>\n              <td colspan=\"3\">\n                <el-form-item label=\"\" prop=\"fwqk\">\n                  <el-input\n                    v-model=\"tableForm.fwqk\"\n                    type=\"textarea\"\n                    placeholder=\"请输入\"\n                    maxlength=\"300\"\n                  />\n                </el-form-item>\n              </td>\n            </tr>\n            <tr>\n              <td>资质证书上传：</td>\n              <td colspan=\"3\">\n                <file-upload :zt-sort.sync=\"itemId\" :file.sync=\"file\" :file-list.sync=\"fileList\" @uploadFile=\"showFromChild\" />\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <el-row>\n          <div class=\"mt50 fr\">\n            <el-button\n              v-if=\"itemId == '' || itemId == undefined\"\n              type=\"primary\"\n              @click=\"addTo(tableForm)\"\n            >确定</el-button>\n            <el-button\n              v-if=\"itemId\"\n              type=\"primary\"\n              @click=\"editSave(tableForm)\"\n            >保 存</el-button>\n            <el-button\n              type=\"primary\"\n              plain\n              class=\"colorPlain\"\n              @click=\"goBack\"\n            >取消</el-button>\n          </div>\n        </el-row>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport FileUpload from '@/components/Upload/FileUpload'\nexport default {\n  name: 'Jdbztj',\n  components: {\n    FileUpload\n  },\n  data() {\n    return {\n      itemId: '',\n      status: '',\n      file: [],\n      zylyOption: [],\n      tableForm: {\n        lb: '3'\n      },\n      fileList: [],\n      rules: {\n        scajqk: [\n          { required: true, message: '请进行输入', trigger: 'change' }\n        ],\n        xm: [{ required: true, message: '请进行输入', trigger: 'change' }],\n        xl: [{ required: true, message: '请进行输入', trigger: 'change' }],\n        ssbm: [{ required: true, message: '请进行输入', trigger: 'change' }],\n        ssdw: [{ required: true, message: '请进行输入', trigger: 'change' }],\n        zyly: [{ required: true, message: '请进行输入', trigger: 'change' }],\n        tc: [{ required: true, message: '请进行输入', trigger: 'change' }]\n      }\n    }\n  },\n  mounted() {\n    this.itemId = this.$route.query.itemId\n    if (this.itemId) {\n      // 获取当前条目信息\n      this.getXsInfo(this.itemId)\n    }\n    this.getZyly()\n  },\n  methods: {\n    showFromChild(data) {\n      this.file = data\n    },\n    getZyly: function() {\n      this.$api.getCode('zyly').then(response => {\n        if (response.code === 200) {\n          this.zylyOption = response.data\n        } else {\n          this.$message.error(response.message)\n        }\n      })\n    },\n    getXsInfo(xsbh) {\n      this.$api.queryScrybybh(xsbh).then(response => {\n        if (response.code === 200) {\n          this.tableForm = response.data\n          this.fileList = this.tableForm.zls\n          this.file = this.tableForm.file\n        } else {\n          this.$message.error(response.message)\n        }\n      })\n    },\n    addTo: function(tableForm) {\n      this.$refs[tableForm].validate(valid => {\n        if (valid) {\n          this.$api.insertScry(tableForm).then(response => {\n            if (response.code === 200) {\n              this.$message({\n                message: '保存成功',\n                type: 'success'\n              })\n              this.$router.push('/jdzyk/index')\n            } else {\n              this.$message.error(response.message)\n            }\n          })\n        }\n      })\n    },\n    editSave: function(tableForm) {\n      this.$refs[tableForm].validate(valid => {\n        if (valid) {\n          this.$api.updateScryxx(tableForm).then(response => {\n            if (response.code === 200) {\n              this.$message({\n                message: '保存成功',\n                type: 'success'\n              })\n              this.$router.push('/jdzyk/index')\n            } else {\n              this.$message.error(response.message)\n            }\n          })\n        }\n      })\n    },\n    goBack: function() {\n      this.$router.go(-1)\n    }\n  }\n}\n</script>\n<style scoped>\n</style>\n"],"sourceRoot":"src/views/zhscjd/sczyk/jdzyk"}]}