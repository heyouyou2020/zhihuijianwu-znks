{"remainingRequest":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\src\\components\\Upload\\FileUpload.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\src\\components\\Upload\\FileUpload.vue","mtime":1601014008295},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/\\u5C0F\\u6CA1\\u6CA1/Desktop/cxl/runboo01/frontend-web/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.find-index\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar _objectSpread2 = _interopRequireDefault(require(\"C:/Users/\\u5C0F\\u6CA1\\u6CA1/Desktop/cxl/runboo01/frontend-web/node_modules/@babel/runtime/helpers/objectSpread2\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'FileUpload',\n  props: {\n    value: {\n      type: String,\n      default: ''\n    },\n    ztSort: {\n      type: String,\n      default: ''\n    },\n    file: {\n      type: Array,\n      required: true\n    },\n    fileList: {\n      type: Array,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      fileIdList: [],\n      fileListSave: [],\n      uploadSucess: false,\n      fileListChild: [],\n      fileEditor: []\n    };\n  },\n  watch: {\n    fileList: function fileList(newVal) {\n      if (newVal.length > 0) {\n        this.fileListChild = newVal;\n      }\n    }\n  },\n  methods: {\n    handleExceed: function handleExceed(files, fileList) {\n      this.$message.warning('请最多上传 ${this.limit} 个文件');\n    },\n    beforeUpload: function beforeUpload(file) {\n      var _this = this;\n\n      // const isLt2M = file.size / 1024 / 1024 < 100\n      // if (!isLt2M) {\n      //   this.$message({\n      //     message: '上传文件大小不能超过 100MB!',\n      //     type: 'warning'\n      //   })\n      // }\n      var formDatas = new FormData();\n      formDatas.append('file', file);\n      this.$api.upload(formDatas).then(function (res) {\n        _this.uploadSucess = true;\n\n        _this.fileIdList.push({\n          id: res.data\n        });\n\n        if (_this.ztSort) {\n          _this.file.push(res.data); // 将数组转换成对象数组\n\n\n          var arrList = [];\n\n          for (var i in _this.file) {\n            var j = {};\n            j.id = _this.file[i];\n            arrList.push(j);\n          }\n\n          var obj = _this.fileListChild.map(function (item, index) {\n            return (0, _objectSpread2.default)((0, _objectSpread2.default)({}, item), arrList[index]);\n          });\n\n          _this.fileListChild = obj;\n\n          _this.$emit('uploadFile', _this.file);\n        } else {\n          _this.fileListSave.push(res.data);\n\n          var _obj = _this.fileListChild.map(function (item, index) {\n            return (0, _objectSpread2.default)((0, _objectSpread2.default)({}, item), _this.fileIdList[index]);\n          });\n\n          _this.fileListChild = _obj;\n\n          _this.$emit('uploadFile', _this.fileListSave);\n        }\n      });\n      return false;\n    },\n    // 上传\n    handleChange: function handleChange(file) {\n      if (file.status === 'ready') {\n        var formDatas = new FormData();\n        formDatas.append('file', file);\n        var dataType = file.name;\n        var types = dataType.substring(dataType.lastIndexOf('.') + 1);\n        var type = '';\n\n        if (types === 'jpg' || types === 'png' || types === 'jpeg' || types === 'gif' || types === 'psd') {\n          type = 'pic';\n        } else if (types === 'mp4' || types === 'avi' || types === 'wmv' || types === 'rm' || types === 'swf' || types === 'flv') {\n          type = 'video';\n        } else if (types === 'mp3' || types === 'wav' || types === 'ogg' || types === 'm4a') {\n          type = 'audio';\n        } else {\n          type = 'wx';\n        }\n\n        this.$set(file, 'type', type); // 判断是否已经存在此文件\n\n        var ret2 = this.fileListChild.findIndex(function (v) {\n          return v.name === file.name;\n        });\n\n        if (ret2 !== -1) {\n          this.$message.error('文件已上传');\n          return;\n        }\n\n        if (this.fileListChild.length > 2) {\n          this.$message.error('最多上传3个文件');\n          return false;\n        }\n\n        this.fileListChild.push(file);\n        var sum = 0;\n        this.fileListChild.forEach(function (item, index) {\n          if (item.size) {\n            sum = sum + item.size;\n          }\n        });\n        var isLt2M = sum / 1024 / 1024 < 100;\n\n        if (!isLt2M) {\n          this.$message({\n            message: '上传文件大小不能超过 100MB!',\n            type: 'warning'\n          });\n          return false;\n        }\n\n        this.$refs.upload.submit();\n      }\n    },\n    handleSuccess: function handleSuccess(res) {},\n    delWj: function delWj(obj) {\n      var _this2 = this;\n\n      this.fileListChild = this.fileListChild.filter(function (item) {\n        return item.name !== obj.name;\n      });\n      this.$api.delFile({\n        id: obj.id\n      }).then(function (response) {\n        if (response.code === 200) {\n          _this2.fileListChild = _this2.fileListChild.filter(function (item) {\n            return item.id !== obj.id;\n          });\n\n          if (_this2.ztSort) {\n            _this2.fileEditor = _this2.file;\n            _this2.fileEditor = _this2.fileEditor.filter(function (item) {\n              return item !== obj.id;\n            });\n\n            _this2.$emit('uploadFile', _this2.fileEditor);\n          } else {\n            _this2.fileListSave = _this2.fileListSave.filter(function (item) {\n              return item !== obj.id;\n            });\n\n            _this2.$emit('uploadFile', _this2.fileListSave);\n          }\n\n          _this2.uploadSucess = true;\n        } else {\n          _this2.$message({\n            message: response.message,\n            type: 'warning'\n          });\n        }\n      });\n    },\n    handleRemove: function handleRemove(file, fileList) {\n      // this.$emit('input', file)\n      // 处理 before-upload验证不通过后触发了on-remove的解决办法\n      if (file && file.status === 'success') {\n        return this.$confirm('你确定删除这个文件？');\n      }\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["FileUpload.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"upload-container\">\n    <ul v-if=\"fileListChild.length>0\" class=\"uploadShow\" :show-id=\"ztSort\">\n      <li v-for=\"(item,i) in fileListChild\" :key=\"i\">\n        <span class=\"fr ml10\" style=\"cursor: pointer\" @click=\"delWj(item)\"><img src=\"@/icons/img/close.png\" height=\"12\" width=\"12\"></span>\n        <span v-if=\"item.type=='pic'\"><img src=\"@/icons/img/pic.png\" height=\"16\" width=\"14\"></span>\n        <span v-else-if=\"item.type=='audio'\"><img src=\"@/icons/img/audio.png\" height=\"16\" width=\"14\"></span>\n        <span v-else-if=\"item.type=='video'\"><img src=\"@/icons/img/video.png\" height=\"16\" width=\"14\"></span>\n        <span v-else><img src=\"@/icons/img/wd.png\" height=\"16\" width=\"14\"></span>\n        <span>{{ item.name }}</span>\n      </li>\n    </ul>\n    <el-upload\n      ref=\"upload\"\n      class=\"upload-demo fr\"\n      action=\"action\"\n      :auto-upload=\"false\"\n      :on-change=\"handleChange\"\n      :on-remove=\"handleRemove\"\n      :show-file-list=\"false\"\n      :on-success=\"handleSuccess\"\n      :before-upload=\"beforeUpload\"\n      multiple\n      :limit=\"3\"\n      :on-exceed=\"handleExceed\"\n      accept=\".pdf,.doc,.docx,.jpg\"\n    >\n      <el-button type=\"text\" class=\"fr\">上传文件</el-button>\n    </el-upload>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'FileUpload',\n  props: {\n    value: {\n      type: String,\n      default: ''\n    },\n    ztSort: {\n      type: String,\n      default: ''\n    },\n    file: {\n      type: Array,\n      required: true\n    },\n    fileList: {\n      type: Array,\n      required: true\n    }\n  },\n  data() {\n    return {\n      fileIdList: [],\n      fileListSave: [],\n      uploadSucess: false,\n      fileListChild: [],\n      fileEditor: []\n    }\n  },\n  watch: {\n    fileList(newVal) {\n      if (newVal.length > 0) {\n        this.fileListChild = newVal\n      }\n    }\n  },\n  methods: {\n    handleExceed(files, fileList) {\n      this.$message.warning('请最多上传 ${this.limit} 个文件')\n    },\n    beforeUpload(file) {\n      // const isLt2M = file.size / 1024 / 1024 < 100\n      // if (!isLt2M) {\n      //   this.$message({\n      //     message: '上传文件大小不能超过 100MB!',\n      //     type: 'warning'\n      //   })\n      // }\n      const formDatas = new FormData()\n      formDatas.append('file', file)\n      this.$api.upload(formDatas).then(res => {\n        this.uploadSucess = true\n        this.fileIdList.push({ id: res.data })\n        if (this.ztSort) {\n          this.file.push(res.data)\n          // 将数组转换成对象数组\n          const arrList = []\n          for (const i in this.file) {\n            var j = {}\n            j.id = this.file[i]\n            arrList.push(j)\n          }\n          const obj = this.fileListChild.map((item, index) => {\n            return { ...item, ... arrList[index] }\n          })\n          this.fileListChild = obj\n          this.$emit('uploadFile', this.file)\n        } else {\n          this.fileListSave.push(res.data)\n          const obj = this.fileListChild.map((item, index) => {\n            return { ...item, ... this.fileIdList[index] }\n          })\n          this.fileListChild = obj\n          this.$emit('uploadFile', this.fileListSave)\n        }\n      })\n      return false\n    },\n    // 上传\n    handleChange(file) {\n      if (file.status === 'ready') {\n        const formDatas = new FormData()\n        formDatas.append('file', file)\n        const dataType = file.name\n        const types = dataType.substring(dataType.lastIndexOf('.') + 1)\n        let type = ''\n        if (types === 'jpg' || types === 'png' || types === 'jpeg' || types === 'gif' || types === 'psd') {\n          type = 'pic'\n        } else if (types === 'mp4' || types === 'avi' || types === 'wmv' || types === 'rm' || types === 'swf' || types === 'flv') {\n          type = 'video'\n        } else if (types === 'mp3' || types === 'wav' || types === 'ogg' || types === 'm4a') {\n          type = 'audio'\n        } else {\n          type = 'wx'\n        }\n        this.$set(file, 'type', type)\n        // 判断是否已经存在此文件\n        var ret2 = this.fileListChild.findIndex((v) => {\n          return v.name === file.name\n        })\n        if (ret2 !== -1) {\n          this.$message.error('文件已上传')\n          return\n        }\n        if (this.fileListChild.length > 2) {\n          this.$message.error('最多上传3个文件')\n          return false\n        }\n        this.fileListChild.push(file)\n        let sum = 0\n        this.fileListChild.forEach(function(item, index) {\n          if (item.size) {\n            sum = sum + item.size\n          }\n        })\n        const isLt2M = sum / 1024 / 1024 < 100\n        if (!isLt2M) {\n          this.$message({\n            message: '上传文件大小不能超过 100MB!',\n            type: 'warning'\n          })\n          return false\n        }\n        this.$refs.upload.submit()\n      }\n    },\n    handleSuccess(res) {\n\n    },\n    delWj(obj) {\n      this.fileListChild = this.fileListChild.filter(function(item) {\n        return item.name !== obj.name\n      })\n      this.$api.delFile({ id: obj.id }).then(response => {\n        if (response.code === 200) {\n          this.fileListChild = this.fileListChild.filter(item => item.id !== obj.id)\n          if (this.ztSort) {\n            this.fileEditor = this.file\n            this.fileEditor = this.fileEditor.filter(item => item !== obj.id)\n            this.$emit('uploadFile', this.fileEditor)\n          } else {\n            this.fileListSave = this.fileListSave.filter(item => item !== obj.id)\n            this.$emit('uploadFile', this.fileListSave)\n          }\n          this.uploadSucess = true\n        } else {\n          this.$message({\n            message: response.message,\n            type: 'warning'\n          })\n        }\n      })\n    },\n    handleRemove(file, fileList) {\n      // this.$emit('input', file)\n      // 处理 before-upload验证不通过后触发了on-remove的解决办法\n      if (file && file.status === 'success') {\n        return this.$confirm('你确定删除这个文件？')\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n    @import \"@/styles/mixin.scss\";\n    .upload-container {\n        width: 100%;\n        position: relative;\n        @include clearfix;\n        .image-uploader {\n            width: 60%;\n            float: left;\n        }\n    }\n\n</style>\n"],"sourceRoot":"src/components/Upload"}]}