{"remainingRequest":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\src\\views\\xsjcjd\\sphdfz\\yxxs\\xstj.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\src\\views\\xsjcjd\\sphdfz\\yxxs\\xstj.vue","mtime":1600928642078},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/\\u5C0F\\u6CA1\\u6CA1/Desktop/cxl/runboo01/frontend-web/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"@/components/Pagination/index\"));\n\nvar _dialogDetail = _interopRequireDefault(require(\"@/views/xsjcjd/zchdfz/dialogDetail\"));\n\nvar _dialogYpyc = _interopRequireDefault(require(\"@/views/xsjcjd/zchdfz/dialogYpyc\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  // name: 'Latsxq',\n  components: {\n    Pagination: _index.default,\n    dialogBox: _dialogDetail.default,\n    dialogYpyc: _dialogYpyc.default\n  },\n  data: function data() {\n    return {\n      xsItem: '',\n      xsForm: {\n        lb: '3',\n        xszt: '0'\n      },\n      dialogFormVisible: false,\n      dialogFlyj: false,\n      dialogBazy: false,\n      dialogYpyc: false,\n      lbSort: '3',\n      lbID: '3',\n      rowObj: {},\n      tableKey: 0,\n      // tableData: [],\n      listQuery: {\n        currentPage: 1,\n        pageSize: 10,\n        keyWord: ''\n      },\n      tableData: [],\n      xgaj: {\n        ajmc: ''\n      },\n      // checked: '',\n      xsfwOption: [],\n      spqkOption: [],\n      fxyjOption: [],\n      wfsxOption: [],\n      listLoading: true,\n      total: 100,\n      ajInfo: {},\n      ajList: [],\n      pickerOptions0: {\n        disabledDate: function disabledDate(time) {\n          return time.getTime() > Date.now();\n        }\n      },\n      pickerOptions1: {\n        disabledDate: function disabledDate(time) {\n          return time.getTime() > Date.now();\n        }\n      },\n      rules: {\n        xsmc: [{\n          required: true,\n          message: '请输入线索名称',\n          trigger: 'change'\n        }],\n        xsfw: [{\n          required: true,\n          message: '请进行选择',\n          trigger: 'change'\n        }],\n        xsly: [{\n          required: true,\n          message: '请进行输入',\n          trigger: 'change'\n        }],\n        xsfsrq: [{\n          required: true,\n          message: '请进行选择',\n          trigger: 'change'\n        }],\n        xsfsdd: [{\n          required: true,\n          message: '请进行输入',\n          trigger: 'change'\n        }],\n        xsslrq: [{\n          required: true,\n          message: '请进行选择',\n          trigger: 'change'\n        }],\n        laqk: [{\n          required: true,\n          message: '请进行选择',\n          trigger: 'change'\n        }],\n        sljcy: [{\n          required: true,\n          message: '请进行输入',\n          trigger: 'change'\n        }],\n        fxyj: [{\n          required: true,\n          message: '请进行选择',\n          trigger: 'change'\n        }],\n        // wfsx: [\n        //   { required: true, message: '请进行选择', trigger: 'change' }\n        // ],\n        xsnr: [{\n          required: true,\n          message: '请进行输入',\n          trigger: 'change'\n        }]\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.lbSort = '3';\n    this.lbID = '3';\n    this.xsItem = this.$route.query.xsInfoId; // JSON.parse(this.$route.query.xsInfo)\n\n    if (this.xsItem === '' || this.xsItem === undefined) {// 新增\n    } else {\n      // 编辑\n      // this.xsItem = this.$route.query.xsInfoId\n      this.getXsInfo(this.xsItem);\n    }\n\n    this.getXsfw();\n    this.getSphd();\n    this.getFxyj(); // this.getWfsx()\n  },\n  methods: {\n    selectFx: function selectFx(val) {\n      this.xsForm.wfsx = null;\n      this.wfsxOption = [];\n      this.getWfsx();\n    },\n    updateFun: function updateFun() {\n      this.$forceUpdate();\n    },\n    getXsInfo: function getXsInfo(xsbh) {\n      var _this = this;\n\n      this.$api.queryXsxq(xsbh).then(function (response) {\n        if (response.code === 200) {\n          _this.xsForm = response.data;\n          _this.xgaj.ajmc = _this.xsForm.ajmc;\n          _this.xgaj.bmsah = _this.xsForm.bmsah;\n          _this.xsForm.wfsx = response.data.wfsxmc;\n        } else {\n          _this.$message.error(response.message);\n        }\n      });\n    },\n    choseAj: function choseAj() {\n      this.dialogFormVisible = true;\n      this.getajList(); // 相关案件\n    },\n    handleFilter: function handleFilter() {\n      this.listQuery.currentPage = 1;\n      this.getajList(this.listQuery);\n    },\n    changeCellStyle: function changeCellStyle(_ref) {\n      var row = _ref.row,\n          columnIndex = _ref.columnIndex;\n\n      if (columnIndex === 0) {\n        return 'color: #4084ef';\n      }\n    },\n    getajList: function getajList() {\n      var _this2 = this;\n\n      this.listLoading = true; // const param = {\n      //   'pageSize': 10,\n      //   'currentPage': 1\n      // }\n\n      this.$api.getAjxx(this.listQuery).then(function (response) {\n        _this2.ajInfo = response;\n        _this2.ajList = response.list;\n        _this2.total = response.total;\n        _this2.listLoading = false;\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.rowObj = val;\n    },\n    choseQD: function choseQD() {\n      this.xgaj = this.rowObj;\n      this.dialogFormVisible = false;\n    },\n    getXsfw: function getXsfw() {\n      var _this3 = this;\n\n      this.$api.queryXsfw().then(function (response) {\n        if (response.code === 200) {\n          _this3.xsfwOption = response.data;\n        } else {\n          _this3.$message.error(response.message);\n        }\n      });\n    },\n    getSphd: function getSphd() {\n      var _this4 = this;\n\n      this.$api.querySpqk().then(function (response) {\n        if (response.code === 200) {\n          _this4.spqkOption = response.data;\n        } else {\n          _this4.$message.error(response.message);\n        }\n      });\n    },\n    getFxyj: function getFxyj() {\n      var _this5 = this;\n\n      this.$api.queryFxyj().then(function (response) {\n        if (response.code === 200) {\n          _this5.fxyjOption = response.data;\n        } else {\n          _this5.$message.error(response.message);\n        }\n      });\n    },\n    getWfsx: function getWfsx() {\n      var _this6 = this;\n\n      this.$api.querySphdFxyj(this.xsForm.fxyj).then(function (response) {\n        if (response.code === 200) {\n          _this6.wfsxOption = response.data;\n        } else {\n          _this6.$message.error(response.message);\n        }\n      });\n    },\n    addTo: function addTo() {\n      var _this7 = this;\n\n      this.xsForm.lb = '3';\n      this.xsForm.xszt = '0';\n\n      if (!this.xgaj.ajmc) {\n        this.$message.error('请先输入案件名称');\n        return false;\n      }\n\n      this.xsForm.ajmc = this.xgaj.ajmc;\n      this.xsForm.bmsah = this.xgaj.bmsah;\n      this.$refs[this.xsForm].validate(function (valid) {\n        if (valid) {\n          if (new Date(_this7.xsForm.xsfsrq) > new Date(_this7.xsForm.xsslrq)) {\n            _this7.$message.error('结束时间不能小于开始时间');\n\n            return false;\n          }\n\n          _this7.$api.saveXsxq(_this7.xsForm).then(function (response) {\n            if (response.code === 200) {\n              _this7.$message({\n                message: '保存成功',\n                type: 'success'\n              });\n\n              _this7.$router.push('/sphdfzyx/index');\n            } else {\n              _this7.$message.error(response.message);\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    editSave: function editSave(xsForm) {\n      var _this8 = this;\n\n      xsForm.lb = '3';\n      xsForm.xszt = '0';\n\n      if (!this.xgaj.ajmc) {\n        this.$message.error('请先输入案件名称');\n        return false;\n      }\n\n      xsForm.ajmc = this.xgaj.ajmc;\n      xsForm.bmsah = this.xgaj.bmsah;\n      this.$refs[xsForm].validate(function (valid) {\n        if (valid) {\n          if (new Date(_this8.xsForm.xsfsrq) > new Date(_this8.xsForm.xsslrq)) {\n            _this8.$message.error('结束时间不能小于开始时间');\n\n            return false;\n          }\n\n          _this8.$api.updateXsinfo(_this8.xsForm).then(function (response) {\n            if (response.code === 200) {\n              _this8.$message({\n                message: '保存成功',\n                type: 'success'\n              });\n\n              _this8.$router.push('/sphdfzyx/index');\n            } else {\n              _this8.$message.error(response.message);\n            }\n          });\n        }\n      });\n    },\n    refresh: function refresh() {\n      this.getajList();\n    },\n    goBack: function goBack(e) {\n      this.$router.go(-1);\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["xstj.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"dashboard-container p0\">\n    <div class=\" clearfix\" />\n    <el-row>\n      <div class=\"borderT clearFix\">\n        <ul class=\"restUl renderUl\">\n          <li>\n            <a @click=\"dialogFlyj=true\"><img src=\"@/icons/img/ajtp.png\" height=\"16\" width=\"14\">法律依据</a>\n          </li>\n          <li>\n            <a @click=\"dialogBazy=true\"><img src=\"@/icons/img/bazy.png\" height=\"16\" width=\"14\">办案指引</a>\n          </li>\n          <li>\n            <a @click=\"dialogYpyc=true\"><img src=\"@/icons/img/scdb.png\" height=\"16\" width=\"14\">预测判断</a>\n          </li>\n        </ul>\n      </div>\n    </el-row>\n    <div class=\"p20 pt30\">\n      <el-row>\n        <span class=\"lineStep\" />\n        <span v-if=\"xsItem === '' || xsItem === undefined\">新增线索</span>\n        <span v-else>编辑线索</span>\n      </el-row>\n      <el-form :ref=\"xsForm\" :rules=\"rules\" :model=\"xsForm\" class=\"mt20\">\n        <table class=\"renderTable\">\n          <tbody>\n            <tr>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>相关案件：</td>\n              <td colspan=\"3\">\n                <el-button type=\"text\" class=\"fr\" @click=\"choseAj\">选择相关案件</el-button>\n                <!--                <el-form-item label=\"\" prop=\"ajmc\" style=\"width: 80%\">-->\n                <!--                  <el-input v-model=\"xsForm.ajmc\" placeholder=\"请输入\" maxlenght=\"200\" readonly />-->\n                <!--                </el-form-item>-->\n                <span>{{ xgaj.ajmc }}</span>\n                <span style=\"display: none\">{{ xgaj.bmsah }}</span>\n              </td>\n            </tr>\n            <tr>\n              <td>线索编号：</td>\n              <td>{{ xsForm.xsbh }}</td>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>线索名称：</td>\n              <td>\n                <el-form-item label=\"\" prop=\"xsmc\">\n                  <el-input v-model=\"xsForm.xsmc\" placeholder=\"请输入\" maxlength=\"200\" />\n                </el-form-item>\n              </td>\n            </tr>\n            <tr>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>线索范围：</td>\n              <td>\n                <el-form-item label=\"\" prop=\"xsfw\">\n                  <el-select v-model=\"xsForm.xsfw\" placeholder=\"请选择\" value-key=\"value\" style=\"width: 100%\">\n                    <el-option label=\"全部\" value=\"\" />\n                    <el-option\n                      v-for=\"item in xsfwOption\"\n                      :key=\"item.value\"\n                      :label=\"item.label\"\n                      :value=\"item.value\"\n                    />\n                  </el-select>\n                </el-form-item>\n              </td>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>线索来源：</td>\n              <td>\n                <el-form-item label=\"\" prop=\"xsly\">\n                  <el-input v-model=\"xsForm.xsly\" placeholder=\"请输入\" maxlength=\"200\" />\n                </el-form-item>\n              </td>\n            </tr>\n            <tr>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>线索发生日期：</td>\n              <td>\n                <el-form-item label=\"\" prop=\"xsfsrq\">\n                  <el-date-picker\n                    v-model=\"xsForm.xsfsrq\"\n                    type=\"date\"\n                    placeholder=\"选择日期\"\n                    value-format=\"yyyy-MM-dd\"\n                    :picker-options=\"pickerOptions0\"\n                  />\n                </el-form-item>\n              </td>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>线索发生地点：</td>\n              <td>\n                <el-form-item label=\"\" prop=\"xsfsdd\">\n                  <el-input v-model=\"xsForm.xsfsdd\" placeholder=\"请输入\" maxlength=\"200\" />\n                </el-form-item>\n              </td>\n            </tr>\n            <tr>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>线索受理日期：</td>\n              <td>\n                <el-form-item label=\"\" prop=\"xsslrq\">\n                  <el-date-picker\n                    v-model=\"xsForm.xsslrq\"\n                    type=\"date\"\n                    placeholder=\"选择日期\"\n                    value-format=\"yyyy-MM-dd\"\n                    :picker-options=\"pickerOptions1\"\n                  />\n                </el-form-item>\n              </td>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>审判情况：</td>\n              <td>\n                <el-form-item label=\"\" prop=\"spqk\">\n                  <el-select v-model=\"xsForm.spqk\" placeholder=\"请选择\" value-key=\"value\" style=\"width: 100%\">\n                    <el-option\n                      v-for=\"item in spqkOption\"\n                      :key=\"item.value\"\n                      :label=\"item.label\"\n                      :value=\"item.value\"\n                    />\n                  </el-select>\n                </el-form-item>\n              </td>\n            </tr>\n            <tr>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>受理检察院：</td>\n              <td>\n                <el-form-item label=\"\" prop=\"sljcy\">\n                  <el-input v-model=\"xsForm.sljcy\" placeholder=\"请输入\" maxlength=\"200\" />\n                </el-form-item>\n              </td>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>风险预警：</td>\n              <td>\n                <el-form-item label=\"\" prop=\"fxyj\">\n                  <el-select v-model=\"xsForm.fxyj\" placeholder=\"请选择\" value-key=\"value\" style=\"width: 100%\" @change=\"selectFx\">\n                    <el-option\n                      v-for=\"item in fxyjOption\"\n                      :key=\"item.value\"\n                      :label=\"item.label\"\n                      :value=\"item.value\"\n                    />\n                  </el-select>\n                </el-form-item>\n              </td>\n            </tr>\n            <tr>\n              <td>预警类型：</td>\n              <td colspan=\"3\">\n                <el-form-item label=\"\" prop=\"wfsx\">\n                  <el-select v-model=\"xsForm.wfsx\" placeholder=\"请选择\" value-key=\"value\" style=\"width: 100%\" @change=\"updateFun\">\n                    <el-option\n                      v-for=\"item in wfsxOption\"\n                      :key=\"item.value\"\n                      :label=\"item.label\"\n                      :value=\"item.value\"\n                    />\n                  </el-select>\n                </el-form-item>\n              </td>\n            </tr>\n            <tr>\n              <td><span style=\"color: red\" class=\"mr5\">*</span>线索内容：</td>\n              <td colspan=\"3\">\n                <el-form-item label=\"\" prop=\"xsnr\">\n                  <el-input v-model=\"xsForm.xsnr\" type=\"textarea\" placeholder=\"请输入\" maxlength=\"200\" rows=\"3\" resize=\"none\" />\n                </el-form-item>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <el-row>\n          <div class=\"mt50 fr\">\n            <el-form-item>\n              <el-button v-if=\"xsItem ==''||xsItem ==undefined\" type=\"primary\" @click=\"addTo\">确定</el-button>\n              <el-button v-if=\"xsItem\" type=\"primary\" @click=\"editSave(xsForm)\">保 存</el-button>\n              <el-button type=\"primary\" plain class=\"colorPlain\" @click=\"goBack\">取消</el-button>\n            </el-form-item>\n          </div>\n        </el-row>\n      </el-form>\n    </div>\n    <!--    弹出框-->\n    <el-dialog title=\"新增线索\" :visible.sync=\"dialogFormVisible\" class=\"dialog-render\" width=\"65%\">\n      <div class=\"filter-container\">\n        <el-row>\n          <el-col :span=\"7\">\n            <el-input\n              v-model=\"listQuery.ajmc\"\n              placeholder=\"请输入关键字\"\n              class=\"filter-item\"\n              clearable\n            />\n          </el-col>\n          <el-col :span=\"4\">\n            <el-button\n              class=\"filter-item\"\n              type=\"primary\"\n              style=\"margin-left: 10px\"\n              @click=\"handleFilter\"\n            >\n              查询\n            </el-button>\n          </el-col>\n        </el-row>\n      </div>\n      <el-table\n        :key=\"tableKey\"\n        ref=\"selectTable\"\n        v-loading=\"listLoading\"\n        stripe\n        :data=\"ajList\"\n        class=\"mb50\"\n        style=\"width: 100%\"\n        :cell-style=\"changeCellStyle\"\n        highlight-current-row\n        max-height=\"300px\"\n        @row-click=\"handleCurrentChange\"\n      >\n        <el-table-column\n          prop=\"ajmc\"\n          label=\"案件名称\"\n          width=\"220\"\n          :show-overflow-tooltip=\"true\"\n        />\n        <el-table-column\n          prop=\"ajlb\"\n          label=\"案件类别\"\n          width=\"160\"\n        />\n        <el-table-column\n          prop=\"bmsah\"\n          label=\"部门受案号\"\n          width=\"150\"\n        />\n        <el-table-column\n          prop=\"slrq\"\n          label=\"受理日期\"\n          width=\"120\"\n        />\n        <el-table-column\n          prop=\"cbbmmc\"\n          label=\"承办部门\"\n          width=\"120\"\n        />\n        <el-table-column\n          prop=\"slrq\"\n          label=\"检察官\"\n          width=\"120\"\n        />\n      </el-table>\n      <div class=\"pageBox\">\n        <pagination\n          v-show=\"total > 0\"\n          :total=\"total\"\n          :page.sync=\"listQuery.currentPage\"\n          :limit.sync=\"listQuery.pageSize\"\n          @pagination=\"refresh\"\n        />\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"choseQD\">确 定</el-button>\n        <el-button type=\"primary\" plain class=\"colorPlain\" @click=\"dialogFormVisible = false\">取 消</el-button>\n      </div>\n    </el-dialog>\n    <dialogBox :dialog-visible.sync=\"dialogFlyj\" :dialog-visible2.sync=\"dialogBazy\" :lb-i-d.sync=\"lbID\" />\n    <dialogYpyc :dialog-visible3.sync=\"dialogYpyc\" :lb-sort.sync=\"lbSort\" />\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination/index'\nimport dialogBox from '@/views/xsjcjd/zchdfz/dialogDetail'\nimport dialogYpyc from '@/views/xsjcjd/zchdfz/dialogYpyc'\nexport default {\n  // name: 'Latsxq',\n  components: { Pagination, dialogBox, dialogYpyc },\n  data() {\n    return {\n      xsItem: '',\n      xsForm: {\n        lb: '3',\n        xszt: '0'\n      },\n      dialogFormVisible: false,\n      dialogFlyj: false,\n      dialogBazy: false,\n      dialogYpyc: false,\n      lbSort: '3',\n      lbID: '3',\n      rowObj: {},\n      tableKey: 0,\n      // tableData: [],\n      listQuery: {\n        currentPage: 1,\n        pageSize: 10,\n        keyWord: ''\n      },\n      tableData: [],\n      xgaj: {\n        ajmc: ''\n      },\n      // checked: '',\n      xsfwOption: [],\n      spqkOption: [],\n      fxyjOption: [],\n      wfsxOption: [],\n      listLoading: true,\n      total: 100,\n      ajInfo: {},\n      ajList: [],\n      pickerOptions0: {\n        disabledDate(time) {\n          return time.getTime() > Date.now()\n        }\n      },\n      pickerOptions1: {\n        disabledDate(time) {\n          return time.getTime() > Date.now()\n        }\n      },\n      rules: {\n        xsmc: [\n          { required: true, message: '请输入线索名称', trigger: 'change' }\n        ],\n        xsfw: [\n          { required: true, message: '请进行选择', trigger: 'change' }\n        ],\n        xsly: [\n          { required: true, message: '请进行输入', trigger: 'change' }\n        ],\n        xsfsrq: [\n          { required: true, message: '请进行选择', trigger: 'change' }\n        ],\n        xsfsdd: [\n          { required: true, message: '请进行输入', trigger: 'change' }\n        ],\n        xsslrq: [\n          { required: true, message: '请进行选择', trigger: 'change' }\n        ],\n        laqk: [\n          { required: true, message: '请进行选择', trigger: 'change' }\n        ],\n        sljcy: [\n          { required: true, message: '请进行输入', trigger: 'change' }\n        ],\n        fxyj: [\n          { required: true, message: '请进行选择', trigger: 'change' }\n        ],\n        // wfsx: [\n        //   { required: true, message: '请进行选择', trigger: 'change' }\n        // ],\n        xsnr: [\n          { required: true, message: '请进行输入', trigger: 'change' }\n        ]\n      }\n    }\n  },\n\n  mounted() {\n    this.lbSort = '3'\n    this.lbID = '3'\n    this.xsItem = this.$route.query.xsInfoId// JSON.parse(this.$route.query.xsInfo)\n    if (this.xsItem === '' || this.xsItem === undefined) { // 新增\n\n    } else { // 编辑\n      // this.xsItem = this.$route.query.xsInfoId\n      this.getXsInfo(this.xsItem)\n    }\n    this.getXsfw()\n    this.getSphd()\n    this.getFxyj()\n    // this.getWfsx()\n  },\n  methods: {\n    selectFx(val) {\n      this.xsForm.wfsx = null\n      this.wfsxOption = []\n      this.getWfsx()\n    },\n    updateFun() {\n      this.$forceUpdate()\n    },\n    getXsInfo(xsbh) {\n      this.$api.queryXsxq(xsbh).then(response => {\n        if (response.code === 200) {\n          this.xsForm = response.data\n          this.xgaj.ajmc = this.xsForm.ajmc\n          this.xgaj.bmsah = this.xsForm.bmsah\n          this.xsForm.wfsx = response.data.wfsxmc\n        } else {\n          this.$message.error(response.message)\n        }\n      })\n    },\n    choseAj: function() {\n      this.dialogFormVisible = true\n      this.getajList()// 相关案件\n    },\n    handleFilter() {\n      this.listQuery.currentPage = 1\n      this.getajList(this.listQuery)\n    },\n    changeCellStyle({ row, columnIndex }) {\n      if (columnIndex === 0) {\n        return 'color: #4084ef'\n      }\n    },\n    getajList() {\n      this.listLoading = true\n      // const param = {\n      //   'pageSize': 10,\n      //   'currentPage': 1\n      // }\n      this.$api.getAjxx(this.listQuery).then(response => {\n        this.ajInfo = response\n        this.ajList = response.list\n        this.total = response.total\n        this.listLoading = false\n      })\n    },\n    handleCurrentChange(val) {\n      this.rowObj = val\n    },\n    choseQD: function() {\n      this.xgaj = this.rowObj\n      this.dialogFormVisible = false\n    },\n    getXsfw: function() {\n      this.$api.queryXsfw().then(response => {\n        if (response.code === 200) {\n          this.xsfwOption = response.data\n        } else {\n          this.$message.error(response.message)\n        }\n      })\n    },\n    getSphd: function() {\n      this.$api.querySpqk().then(response => {\n        if (response.code === 200) {\n          this.spqkOption = response.data\n        } else {\n          this.$message.error(response.message)\n        }\n      })\n    },\n    getFxyj: function() {\n      this.$api.queryFxyj().then(response => {\n        if (response.code === 200) {\n          this.fxyjOption = response.data\n        } else {\n          this.$message.error(response.message)\n        }\n      })\n    },\n    getWfsx: function() {\n      this.$api.querySphdFxyj(this.xsForm.fxyj).then(response => {\n        if (response.code === 200) {\n          this.wfsxOption = response.data\n        } else {\n          this.$message.error(response.message)\n        }\n      })\n    },\n    addTo: function() {\n      this.xsForm.lb = '3'\n      this.xsForm.xszt = '0'\n      if (!this.xgaj.ajmc) {\n        this.$message.error('请先输入案件名称')\n        return false\n      }\n      this.xsForm.ajmc = this.xgaj.ajmc\n      this.xsForm.bmsah = this.xgaj.bmsah\n      this.$refs[this.xsForm].validate((valid) => {\n        if (valid) {\n          if (new Date(this.xsForm.xsfsrq) > new Date(this.xsForm.xsslrq)) {\n            this.$message.error('结束时间不能小于开始时间')\n            return false\n          }\n          this.$api.saveXsxq(this.xsForm).then(response => {\n            if (response.code === 200) {\n              this.$message({\n                message: '保存成功',\n                type: 'success'\n              })\n              this.$router.push('/sphdfzyx/index')\n            } else {\n              this.$message.error(response.message)\n            }\n          })\n        } else {\n          return false\n        }\n      })\n    },\n    editSave: function(xsForm) {\n      xsForm.lb = '3'\n      xsForm.xszt = '0'\n      if (!this.xgaj.ajmc) {\n        this.$message.error('请先输入案件名称')\n        return false\n      }\n      xsForm.ajmc = this.xgaj.ajmc\n      xsForm.bmsah = this.xgaj.bmsah\n      this.$refs[xsForm].validate((valid) => {\n        if (valid) {\n          if (new Date(this.xsForm.xsfsrq) > new Date(this.xsForm.xsslrq)) {\n            this.$message.error('结束时间不能小于开始时间')\n            return false\n          }\n          this.$api.updateXsinfo(this.xsForm).then(response => {\n            if (response.code === 200) {\n              this.$message({\n                message: '保存成功',\n                type: 'success'\n              })\n              this.$router.push('/sphdfzyx/index')\n            } else {\n              this.$message.error(response.message)\n            }\n          })\n        }\n      })\n    },\n    refresh() {\n      this.getajList()\n    },\n    goBack: function(e) {\n      this.$router.go(-1)\n    }\n  }\n}\n</script>\n<style scoped>\n   .el-dialog__body /deep/{\n    height: 500px !important;\n  }\n</style>\n<style>\n  .el-form-item__error{\n    top:0 !important;\n  }\n</style>\n\n"],"sourceRoot":"src/views/xsjcjd/sphdfz/yxxs"}]}