{"remainingRequest":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\src\\views\\xsjcjd\\sphdfz\\fxgl\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\src\\views\\xsjcjd\\sphdfz\\fxgl\\index.vue","mtime":1603165214427},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\小没没\\Desktop\\cxl\\runboo01\\frontend-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/\\u5C0F\\u6CA1\\u6CA1/Desktop/cxl/runboo01/frontend-web/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _index = _interopRequireDefault(require(\"@/components/Pagination/index\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'Dashboard',\n  components: {\n    Pagination: _index.default\n  },\n  data: function data() {\n    return {\n      yjId: '',\n      listQuery: {\n        keyWord: '',\n        ggrq: '',\n        yjdj: '',\n        pageSize: 10,\n        currentPage: 1\n      },\n      fxyjOption: [],\n      tableKey: 0,\n      tableData: [],\n      listLoading: true,\n      total: 100,\n      dialogFormVisible: false,\n      fxdjOption: [],\n      fxlxOption: [],\n      form: {},\n      dailogTitleType: '',\n      pickerOptions0: {\n        disabledDate: function disabledDate(time) {\n          return time.getTime() > Date.now();\n        }\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.getfxyj();\n    this.getList();\n  },\n  methods: {\n    selectChange: function selectChange() {\n      this.$forceUpdate();\n    },\n    selectDate: function selectDate() {\n      var dateTime = this.listQuery.ggrq;\n\n      if (dateTime == null) {\n        this.listQuery.ksrq = '';\n        this.listQuery.jsrq = '';\n      } else {\n        var startTime = this.moment(dateTime[0]).format('YYYY-MM-DD');\n        var endTime = this.moment(dateTime[1]).format('YYYY-MM-DD');\n        this.listQuery.ksrq = startTime;\n        this.listQuery.jsrq = endTime;\n      }\n    },\n    getfxyj: function getfxyj() {\n      var _this = this;\n\n      this.$api.queryFxyj().then(function (response) {\n        if (response.code === 200) {\n          _this.fxyjOption = response.data;\n        } else {\n          _this.$message.error(response.message);\n        }\n      });\n    },\n    getwfsx: function getwfsx() {\n      var _this2 = this;\n\n      this.$api.querySphdwfsx().then(function (response) {\n        if (response.code === 200) {\n          _this2.fxdjOption = response.data;\n        } else {\n          _this2.$message.error(response.message);\n        }\n      });\n    },\n    onSearch: function onSearch() {\n      this.listQuery.currentPage = 1;\n      this.getList(this.listQuery);\n    },\n    restOff: function restOff(listQuery) {\n      this.$refs[listQuery].resetFields();\n      this.listQuery.ksrq = '';\n      this.listQuery.jsrq = '';\n      this.listQuery.ggrq = '';\n      this.getList();\n    },\n    getList: function getList() {\n      var _this3 = this;\n\n      this.listLoading = true; // true\n\n      this.$api.queryFxgllist(this.listQuery).then(function (response) {\n        if (response.code === 200) {\n          _this3.tableData = response.data.list;\n          _this3.total = response.data.total;\n          _this3.listLoading = false;\n        } else {\n          _this3.$message({\n            message: response.message,\n            type: 'warning'\n          });\n        }\n      });\n    },\n    editItem: function editItem(item) {\n      var _this4 = this;\n\n      this.yjId = item.id;\n      this.dailogTitleType = '编辑风险';\n      this.dialogFormVisible = true;\n      this.getfxyj();\n      this.getwfsx();\n      this.$api.queryFxyjbyid(item.id).then(function (response) {\n        if (response.code === 200) {\n          _this4.form = response.data;\n        } else {\n          _this4.$message({\n            message: response.message,\n            type: 'warning'\n          });\n        }\n      });\n    },\n    deleteItem: function deleteItem(item) {\n      var _this5 = this;\n\n      var params = {\n        id: item.id\n      };\n      this.$confirm('此操作将永久删除, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this5.$api.delFxgl(params).then(function (response) {\n          if (response.code === 200) {\n            _this5.getList();\n\n            _this5.$message({\n              type: 'success',\n              message: '删除成功!'\n            });\n          }\n        });\n      }).catch(function () {// this.$message({\n        //   type: 'info',\n        //   message: '已取消删除'\n        // })\n      });\n    },\n    refresh: function refresh() {\n      this.getList();\n    },\n    addBox: function addBox() {\n      this.yjId = '';\n      this.dailogTitleType = '添加风险';\n      this.dialogFormVisible = true;\n      this.form.yjlx = null;\n      this.form.yjdj = null;\n      this.getfxyj();\n      this.getwfsx();\n    },\n    onSubmit: function onSubmit() {\n      var _this6 = this;\n\n      this.$api.saveYjxx(this.form).then(function (response) {\n        if (response.code === 200) {\n          _this6.dialogFormVisible = false;\n\n          _this6.getList();\n        } else {\n          _this6.$message({\n            message: response.message,\n            type: 'warning'\n          });\n        }\n      });\n    },\n    onUpdate: function onUpdate() {\n      var _this7 = this;\n\n      this.$api.updateFxgl(this.form).then(function (response) {\n        if (response.code === 200) {\n          _this7.dialogFormVisible = false;\n\n          _this7.getList();\n        } else {\n          _this7.$message({\n            message: response.message,\n            type: 'warning'\n          });\n        }\n      });\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;AA6IA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,UAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA;AACA,QAAA,OAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA,EAFA;AAGA,QAAA,IAAA,EAAA,EAHA;AAIA,QAAA,QAAA,EAAA,EAJA;AAKA,QAAA,WAAA,EAAA;AALA,OAFA;AASA,MAAA,UAAA,EAAA,EATA;AAUA,MAAA,QAAA,EAAA,CAVA;AAWA,MAAA,SAAA,EAAA,EAXA;AAYA,MAAA,WAAA,EAAA,IAZA;AAaA,MAAA,KAAA,EAAA,GAbA;AAcA,MAAA,iBAAA,EAAA,KAdA;AAeA,MAAA,UAAA,EAAA,EAfA;AAgBA,MAAA,UAAA,EAAA,EAhBA;AAiBA,MAAA,IAAA,EAAA,EAjBA;AAkBA,MAAA,eAAA,EAAA,EAlBA;AAmBA,MAAA,cAAA,EAAA;AACA,QAAA,YADA,wBACA,IADA,EACA;AACA,iBAAA,IAAA,CAAA,OAAA,KAAA,IAAA,CAAA,GAAA,EAAA;AACA;AAHA;AAnBA,KAAA;AAyBA,GA7BA;AA8BA,EAAA,OA9BA,qBA8BA;AACA,SAAA,OAAA;AACA,SAAA,OAAA;AACA,GAjCA;AAkCA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,WAAA,YAAA;AACA,KAHA;AAIA,IAAA,UAAA,EAAA,sBAAA;AACA,UAAA,QAAA,GAAA,KAAA,SAAA,CAAA,IAAA;;AACA,UAAA,QAAA,IAAA,IAAA,EAAA;AACA,aAAA,SAAA,CAAA,IAAA,GAAA,EAAA;AACA,aAAA,SAAA,CAAA,IAAA,GAAA,EAAA;AACA,OAHA,MAGA;AACA,YAAA,SAAA,GAAA,KAAA,MAAA,CAAA,QAAA,CAAA,CAAA,CAAA,EAAA,MAAA,CAAA,YAAA,CAAA;AACA,YAAA,OAAA,GAAA,KAAA,MAAA,CAAA,QAAA,CAAA,CAAA,CAAA,EAAA,MAAA,CAAA,YAAA,CAAA;AACA,aAAA,SAAA,CAAA,IAAA,GAAA,SAAA;AACA,aAAA,SAAA,CAAA,IAAA,GAAA,OAAA;AACA;AACA,KAfA;AAgBA,IAAA,OAAA,EAAA,mBAAA;AAAA;;AACA,WAAA,IAAA,CAAA,SAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,UAAA,GAAA,QAAA,CAAA,IAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,QAAA,CAAA,OAAA;AACA;AACA,OANA;AAOA,KAxBA;AAyBA,IAAA,OAAA,EAAA,mBAAA;AAAA;;AACA,WAAA,IAAA,CAAA,aAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,UAAA,GAAA,QAAA,CAAA,IAAA;AACA,SAFA,MAEA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,QAAA,CAAA,OAAA;AACA;AACA,OANA;AAOA,KAjCA;AAkCA,IAAA,QAAA,EAAA,oBAAA;AACA,WAAA,SAAA,CAAA,WAAA,GAAA,CAAA;AACA,WAAA,OAAA,CAAA,KAAA,SAAA;AACA,KArCA;AAsCA,IAAA,OAAA,EAAA,iBAAA,SAAA,EAAA;AACA,WAAA,KAAA,CAAA,SAAA,EAAA,WAAA;AACA,WAAA,SAAA,CAAA,IAAA,GAAA,EAAA;AACA,WAAA,SAAA,CAAA,IAAA,GAAA,EAAA;AACA,WAAA,SAAA,CAAA,IAAA,GAAA,EAAA;AACA,WAAA,OAAA;AACA,KA5CA;AA6CA,IAAA,OA7CA,qBA6CA;AAAA;;AACA,WAAA,WAAA,GAAA,IAAA,CADA,CACA;;AACA,WAAA,IAAA,CAAA,aAAA,CAAA,KAAA,SAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA,CAAA,KAAA;AACA,UAAA,MAAA,CAAA,WAAA,GAAA,KAAA;AACA,SAJA,MAIA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA;AACA,YAAA,OAAA,EAAA,QAAA,CAAA,OADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;AAIA;AACA,OAXA;AAYA,KA3DA;AA4DA,IAAA,QAAA,EAAA,kBAAA,IAAA,EAAA;AAAA;;AACA,WAAA,IAAA,GAAA,IAAA,CAAA,EAAA;AACA,WAAA,eAAA,GAAA,MAAA;AACA,WAAA,iBAAA,GAAA,IAAA;AACA,WAAA,OAAA;AACA,WAAA,OAAA;AACA,WAAA,IAAA,CAAA,aAAA,CAAA,IAAA,CAAA,EAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA;AACA,SAFA,MAEA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA;AACA,YAAA,OAAA,EAAA,QAAA,CAAA,OADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;AAIA;AACA,OATA;AAUA,KA5EA;AA6EA,IAAA,UAAA,EAAA,oBAAA,IAAA,EAAA;AAAA;;AACA,UAAA,MAAA,GAAA;AACA,QAAA,EAAA,EAAA,IAAA,CAAA;AADA,OAAA;AAGA,WAAA,QAAA,CAAA,iBAAA,EAAA,IAAA,EAAA;AACA,QAAA,iBAAA,EAAA,IADA;AAEA,QAAA,gBAAA,EAAA,IAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAAA,EAIA,IAJA,CAIA,YAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,OAAA,CAAA,MAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,OAAA;;AACA,YAAA,MAAA,CAAA,QAAA,CAAA;AACA,cAAA,IAAA,EAAA,SADA;AAEA,cAAA,OAAA,EAAA;AAFA,aAAA;AAIA;AACA,SARA;AASA,OAdA,EAcA,KAdA,CAcA,YAAA,CACA;AACA;AACA;AACA;AACA,OAnBA;AAoBA,KArGA;AAsGA,IAAA,OAtGA,qBAsGA;AACA,WAAA,OAAA;AACA,KAxGA;AAyGA,IAAA,MAAA,EAAA,kBAAA;AACA,WAAA,IAAA,GAAA,EAAA;AACA,WAAA,eAAA,GAAA,MAAA;AACA,WAAA,iBAAA,GAAA,IAAA;AACA,WAAA,IAAA,CAAA,IAAA,GAAA,IAAA;AACA,WAAA,IAAA,CAAA,IAAA,GAAA,IAAA;AACA,WAAA,OAAA;AACA,WAAA,OAAA;AACA,KAjHA;AAkHA,IAAA,QAAA,EAAA,oBAAA;AAAA;;AACA,WAAA,IAAA,CAAA,QAAA,CAAA,KAAA,IAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,iBAAA,GAAA,KAAA;;AACA,UAAA,MAAA,CAAA,OAAA;AACA,SAHA,MAGA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA;AACA,YAAA,OAAA,EAAA,QAAA,CAAA,OADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;AAIA;AACA,OAVA;AAWA,KA9HA;AA+HA,IAAA,QAAA,EAAA,oBAAA;AAAA;;AACA,WAAA,IAAA,CAAA,UAAA,CAAA,KAAA,IAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,iBAAA,GAAA,KAAA;;AACA,UAAA,MAAA,CAAA,OAAA;AACA,SAHA,MAGA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA;AACA,YAAA,OAAA,EAAA,QAAA,CAAA,OADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;AAIA;AACA,OAVA;AAWA;AA3IA;AAlCA,C","sourcesContent":["<template>\n  <div class=\"dashboard-container\">\n    <!--      头部搜索start-->\n    <div class=\"filter-container\">\n      <el-form ref=\"listQuery\" :model=\"listQuery\" :inline=\"true\">\n        <el-form-item label=\"关键字\" prop=\"yjlx\">\n          <el-input\n            v-model=\"listQuery.yjlx\"\n            placeholder=\"风险名称\"\n            class=\"filter-item\"\n            clearable\n            maxlength=\"30\"\n          />\n        </el-form-item>\n        <el-form-item label=\"更改日期\" prop=\"ggrq\">\n          <el-date-picker\n            v-model=\"listQuery.ggrq\"\n            type=\"daterange\"\n            range-separator=\"至\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            style=\"width: 280px\"\n            @change=\"selectDate\"\n            :picker-options=\"pickerOptions0\"\n          />\n        </el-form-item>\n        <el-form-item label=\"预警等级\" prop=\"yjdj\">\n          <el-select v-model=\"listQuery.yjdj\" placeholder=\"请选择\" value-key=\"value\">\n            <el-option label=\"全部\" value=\"\" />\n            <el-option\n              v-for=\"item in fxyjOption\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" plain @click=\"restOff('listQuery')\">重置</el-button>\n          <el-button type=\"primary\" @click=\"onSearch\">查询</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <el-row class=\"mb10\">\n      <el-button\n        plain\n        class=\"btn-noBg fr\"\n        style=\"margin-left: 10px\"\n        @click=\"addBox\"\n      >\n        <img src=\"@/icons/img/add.png\" height=\"15\" width=\"15\" style=\"vertical-align: middle\">\n        添加预警\n      </el-button>\n    </el-row>\n    <!--      表格statrt-->\n    <el-table\n      :key=\"tableKey\"\n      v-loading=\"listLoading\"\n      stripe\n      :data=\"tableData\"\n      style=\"width: 100%\"\n      highlight-current-row\n    >\n      <el-table-column\n        prop=\"yjlx\"\n        label=\"预警类型\"\n        cell-class-name=\"colorB\"\n        :show-overflow-tooltip=\"true\"\n      />\n      <el-table-column\n        prop=\"ggrq\"\n        label=\"更改日期\"\n      />\n      <el-table-column\n        prop=\"yjdj\"\n        label=\"预警等级\"\n        width=\"150\"\n      >\n        <template slot-scope=\"scope\">\n          <span v-if=\"scope.row.fxyj=='一级预警'\" style=\"color:red\"><img src=\"@/icons/img/warn_red.png\" height=\"16\" width=\"16\" class=\"mr5 imgCenter\">{{ scope.row.fxyj }}</span>\n          <span v-if=\"scope.row.fxyj=='二级预警'\" style=\"color:#FF9204\"><img src=\"@/icons/img/warn_yellow.png\" height=\"16\" width=\"16\" class=\"mr5 imgCenter\">{{ scope.row.fxyj }}</span>\n          <span v-if=\"scope.row.fxyj=='三级预警'\" style=\"color:#4FA4FC\"><img src=\"@/icons/img/warn_3.png\" height=\"16\" width=\"16\" class=\"mr5 imgCenter\">{{ scope.row.fxyj }}</span>\n          <span v-if=\"scope.row.fxyj=='四级预警'\" style=\"color:#4EDB87\"><img src=\"@/icons/img/warn_4.png\" height=\"16\" width=\"16\" class=\"mr5 imgCenter\">{{ scope.row.fxyj }}</span>\n          <span v-if=\"scope.row.fxyj=='无风险预警'\">{{ scope.row.fxyj }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"操作\"\n        width=\"200\"\n      >\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" size=\"small\" @click=\"editItem(scope.row)\">编辑</el-button>\n          <el-button type=\"text\" size=\"small\" @click=\"deleteItem(scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"pageBox\">\n      <pagination\n        v-show=\"total > 0\"\n        :total=\"total\"\n        :page.sync=\"listQuery.currentPage\"\n        :limit.sync=\"listQuery.pageSize\"\n        @pagination=\"refresh\"\n      />\n    </div>\n    <!--    弹出框-->\n    <el-dialog :title=\"dailogTitleType\" :visible.sync=\"dialogFormVisible\" class=\"dialog-render\" width=\"500px\">\n      <div class=\"filter-container formDiaglog\">\n        <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n          <el-form-item label=\"预警类型\" class=\"mb20\">\n            <el-select v-model=\"form.yjlx\" placeholder=\"请选择活动区域\" value-key=\"value\" @change=\"selectChange\">\n              <el-option\n                v-for=\"item in fxdjOption\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              />\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"预警等级\">\n            <el-select v-model=\"form.yjdj\" placeholder=\"请选择活动区域\" value-key=\"value\" @change=\"selectChange\">\n              <el-option\n                v-for=\"item in fxyjOption\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              />\n            </el-select>\n          </el-form-item>\n        </el-form>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button v-if=\"yjId ==''||yjId ==undefined\" type=\"primary\" @click=\"onSubmit\">确 定</el-button>\n        <el-button v-if=\"yjId\" type=\"primary\" @click=\"onUpdate\">保 存</el-button>\n        <el-button type=\"primary\" plain class=\"colorPlain\" @click=\"dialogFormVisible = false\">取 消</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination/index'\nexport default {\n  name: 'Dashboard',\n  components: { Pagination },\n  data() {\n    return {\n      yjId: '',\n      listQuery: {\n        keyWord: '',\n        ggrq: '',\n        yjdj: '',\n        pageSize: 10,\n        currentPage: 1\n      },\n      fxyjOption: [],\n      tableKey: 0,\n      tableData: [],\n      listLoading: true,\n      total: 100,\n      dialogFormVisible: false,\n      fxdjOption: [],\n      fxlxOption: [],\n      form: {},\n      dailogTitleType: '',\n      pickerOptions0: {\n        disabledDate(time) {\n          return time.getTime() > Date.now()\n        }\n      }\n    }\n  },\n  mounted() {\n    this.getfxyj()\n    this.getList()\n  },\n  methods: {\n    selectChange() {\n      this.$forceUpdate()\n    },\n    selectDate: function() {\n      const dateTime = this.listQuery.ggrq\n      if (dateTime == null) {\n        this.listQuery.ksrq = ''\n        this.listQuery.jsrq = ''\n      } else {\n        const startTime = this.moment(dateTime[0]).format('YYYY-MM-DD')\n        const endTime = this.moment(dateTime[1]).format('YYYY-MM-DD')\n        this.listQuery.ksrq = startTime\n        this.listQuery.jsrq = endTime\n      }\n    },\n    getfxyj: function() {\n      this.$api.queryFxyj().then(response => {\n        if (response.code === 200) {\n          this.fxyjOption = response.data\n        } else {\n          this.$message.error(response.message)\n        }\n      })\n    },\n    getwfsx: function() {\n      this.$api.querySphdwfsx().then(response => {\n        if (response.code === 200) {\n          this.fxdjOption = response.data\n        } else {\n          this.$message.error(response.message)\n        }\n      })\n    },\n    onSearch: function() {\n      this.listQuery.currentPage = 1\n      this.getList(this.listQuery)\n    },\n    restOff: function(listQuery) {\n      this.$refs[listQuery].resetFields()\n      this.listQuery.ksrq = ''\n      this.listQuery.jsrq = ''\n      this.listQuery.ggrq = ''\n      this.getList()\n    },\n    getList() {\n      this.listLoading = true// true\n      this.$api.queryFxgllist(this.listQuery).then(response => {\n        if (response.code === 200) {\n          this.tableData = response.data.list\n          this.total = response.data.total\n          this.listLoading = false\n        } else {\n          this.$message({\n            message: response.message,\n            type: 'warning'\n          })\n        }\n      })\n    },\n    editItem: function(item) {\n      this.yjId = item.id\n      this.dailogTitleType = '编辑风险'\n      this.dialogFormVisible = true\n      this.getfxyj()\n      this.getwfsx()\n      this.$api.queryFxyjbyid(item.id).then(response => {\n        if (response.code === 200) {\n          this.form = response.data\n        } else {\n          this.$message({\n            message: response.message,\n            type: 'warning'\n          })\n        }\n      })\n    },\n    deleteItem: function(item) {\n      const params = {\n        id: item.id\n      }\n      this.$confirm('此操作将永久删除, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$api.delFxgl(params).then(response => {\n          if (response.code === 200) {\n            this.getList()\n            this.$message({\n              type: 'success',\n              message: '删除成功!'\n            })\n          }\n        })\n      }).catch(() => {\n        // this.$message({\n        //   type: 'info',\n        //   message: '已取消删除'\n        // })\n      })\n    },\n    refresh() {\n      this.getList()\n    },\n    addBox: function() {\n      this.yjId = ''\n      this.dailogTitleType = '添加风险'\n      this.dialogFormVisible = true\n      this.form.yjlx = null\n      this.form.yjdj = null\n      this.getfxyj()\n      this.getwfsx()\n    },\n    onSubmit: function() {\n      this.$api.saveYjxx(this.form).then(response => {\n        if (response.code === 200) {\n          this.dialogFormVisible = false\n          this.getList()\n        } else {\n          this.$message({\n            message: response.message,\n            type: 'warning'\n          })\n        }\n      })\n    },\n    onUpdate: function() {\n      this.$api.updateFxgl(this.form).then(response => {\n        if (response.code === 200) {\n          this.dialogFormVisible = false\n          this.getList()\n        } else {\n          this.$message({\n            message: response.message,\n            type: 'warning'\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n<style lang='scss' scoped>\n  .formDiaglog{\n    padding-left: 70px;\n  }\n</style>\n"],"sourceRoot":"src/views/xsjcjd/sphdfz/fxgl"}]}